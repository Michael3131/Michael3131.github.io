/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,u=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},_=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,o=(n=n||_).createElement("script");if(o.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var k="3.7.1",C=/HTML$/i,T=function(t,e){return new T.fn.init(t,e)};function M(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}T.fn=T.prototype={jquery:k,constructor:T,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(c&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||T.isPlainObject(n)?n:{},r=!1,s[e]=T.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},T.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=s(t))&&("function"!=typeof(n=f.call(e,"constructor")&&e.constructor)||p.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(M(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},text:function(t){var e,n="",i=0,r=t.nodeType;if(!r)for(;e=t[i++];)n+=T.text(e);return 1===r||11===r?t.textContent:9===r?t.documentElement.textContent:3===r||4===r?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(M(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!C.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(M(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var A=o.pop,S=o.sort,D=o.splice,P="[\\x20\\t\\r\\n\\f]",N=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");T.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function O(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}T.escapeSelector=function(t){return(t+"").replace(R,O)};var j=_,L=c;!function(){var t,e,n,r,s,l,c,h,d,p,m=L,v=T.expando,y=0,_=0,b=tt(),w=tt(),x=tt(),k=tt(),C=function(t,e){return t===e&&(s=!0),0},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",z=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",$=new RegExp(P+"+","g"),I=new RegExp("^"+P+"*,"+P+"*"),q=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),H=new RegExp(P+"|>"),F=new RegExp(z),B=new RegExp("^"+R+"$"),W={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,Y=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),J=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},K=function(){lt()},Q=dt((function(t){return!0===t.disabled&&E(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(j.childNodes),j.childNodes),o[j.childNodes.length].nodeType}catch(t){m={apply:function(t,e){L.apply(t,a.call(e))},call:function(t){L.apply(t,a.call(arguments,1))}}}function Z(t,e,n,i){var r,o,s,a,c,u,f,p=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return n;if(!i&&(lt(e),e=e||l,h)){if(11!==y&&(c=V.exec(t)))if(r=c[1]){if(9===y){if(!(s=e.getElementById(r)))return n;if(s.id===r)return m.call(n,s),n}else if(p&&(s=p.getElementById(r))&&Z.contains(e,s)&&s.id===r)return m.call(n,s),n}else{if(c[2])return m.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&e.getElementsByClassName)return m.apply(n,e.getElementsByClassName(r)),n}if(!(k[t+" "]||d&&d.test(t))){if(f=t,p=e,1===y&&(H.test(t)||q.test(t))){for((p=G.test(t)&&at(e.parentNode)||e)==e&&g.scope||((a=e.getAttribute("id"))?a=T.escapeSelector(a):e.setAttribute("id",a=v)),o=(u=ut(t)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+ht(u[o]);f=u.join(",")}try{return m.apply(n,p.querySelectorAll(f)),n}catch(e){k(t,!0)}finally{a===v&&e.removeAttribute("id")}}}return yt(t.replace(N,"$1"),e,n,i)}function tt(){var t=[];return function n(i,r){return t.push(i+" ")>e.cacheLength&&delete n[t.shift()],n[i+" "]=r}}function et(t){return t[v]=!0,t}function nt(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function it(t){return function(e){return E(e,"input")&&e.type===t}}function rt(t){return function(e){return(E(e,"input")||E(e,"button"))&&e.type===t}}function ot(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Q(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function st(t){return et((function(e){return e=+e,et((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function at(t){return t&&void 0!==t.getElementsByTagName&&t}function lt(t){var n,i=t?t.ownerDocument||t:j;return i!=l&&9===i.nodeType&&i.documentElement?(c=(l=i).documentElement,h=!T.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&j!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",K),g.getById=nt((function(t){return c.appendChild(t).id=T.expando,!l.getElementsByName||!l.getElementsByName(T.expando).length})),g.disconnectedMatch=nt((function(t){return p.call(t,"*")})),g.scope=nt((function(){return l.querySelectorAll(":scope")})),g.cssHas=nt((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),g.getById?(e.filter.ID=function(t){var e=t.replace(Y,J);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace(Y,J);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),e.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},d=[],nt((function(t){var e;c.appendChild(t).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||d.push("\\["+P+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+v+"-]").length||d.push("~="),t.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll(":checked").length||d.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")})),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),C=function(t,e){if(t===e)return s=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument==j&&Z.contains(j,t)?-1:e===l||e.ownerDocument==j&&Z.contains(j,e)?1:r?u.call(r,t)-u.call(r,e):0:4&n?-1:1)},l):l}for(t in Z.matches=function(t,e){return Z(t,null,null,e)},Z.matchesSelector=function(t,e){if(lt(t),h&&!k[e+" "]&&(!d||!d.test(e)))try{var n=p.call(t,e);if(n||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){k(e,!0)}return Z(e,l,null,[t]).length>0},Z.contains=function(t,e){return(t.ownerDocument||t)!=l&&lt(t),T.contains(t,e)},Z.attr=function(t,n){(t.ownerDocument||t)!=l&&lt(t);var i=e.attrHandle[n.toLowerCase()],r=i&&f.call(e.attrHandle,n.toLowerCase())?i(t,n,!h):void 0;return void 0!==r?r:t.getAttribute(n)},Z.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},T.uniqueSort=function(t){var e,n=[],i=0,o=0;if(s=!g.sortStable,r=!g.sortStable&&a.call(t,0),S.call(t,C),s){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)D.call(t,n[i],1)}return r=null,t},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(a.apply(this)))},e=T.expr={cacheLength:50,createPseudo:et,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Y,J),t[3]=(t[3]||t[4]||t[5]||"").replace(Y,J),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Z.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Z.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&F.test(n)&&(e=ut(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Y,J).toLowerCase();return"*"===t?function(){return!0}:function(t){return E(t,e)}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&b(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=Z.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p=o!==s?"nextSibling":"previousSibling",m=e.parentNode,g=a&&e.nodeName.toLowerCase(),_=!l&&!a,b=!1;if(m){if(o){for(;p;){for(h=e;h=h[p];)if(a?E(h,g):1===h.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&_){for(b=(d=(c=(u=m[v]||(m[v]={}))[t]||[])[0]===y&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[p]||(b=d=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[y,d,b];break}}else if(_&&(b=d=(c=(u=e[v]||(e[v]={}))[t]||[])[0]===y&&c[1]),!1===b)for(;(h=++d&&h&&h[p]||(b=d=0)||f.pop())&&(!(a?E(h,g):1===h.nodeType)||!++b||(_&&((u=h[v]||(h[v]={}))[t]=[y,b]),h!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var i,r=e.pseudos[t]||e.setFilters[t.toLowerCase()]||Z.error("unsupported pseudo: "+t);return r[v]?r(n):r.length>1?(i=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?et((function(t,e){for(var i,o=r(t,n),s=o.length;s--;)t[i=u.call(t,o[s])]=!(e[i]=o[s])})):function(t){return r(t,0,i)}):r}},pseudos:{not:et((function(t){var e=[],n=[],i=vt(t.replace(N,"$1"));return i[v]?et((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:et((function(t){return function(e){return Z(t,e).length>0}})),contains:et((function(t){return t=t.replace(Y,J),function(e){return(e.textContent||T.text(e)).indexOf(t)>-1}})),lang:et((function(t){return B.test(t||"")||Z.error("unsupported lang: "+t),t=t.replace(Y,J).toLowerCase(),function(e){var n;do{if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===function(){try{return l.activeElement}catch(t){}}()&&l.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(t){return E(t,"input")&&!!t.checked||E(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return U.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){return E(t,"input")&&"button"===t.type||E(t,"button")},text:function(t){var e;return E(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:st((function(){return[0]})),last:st((function(t,e){return[e-1]})),eq:st((function(t,e,n){return[n<0?n+e:n]})),even:st((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:st((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:st((function(t,e,n){var i;for(i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:st((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=it(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=rt(t);function ct(){}function ut(t,n){var i,r,o,s,a,l,c,u=w[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=e.preFilter;a;){for(s in i&&!(r=I.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=q.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(N," ")}),a=a.slice(i.length)),e.filter)!(r=W[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?Z.error(t):w(t,l).slice(0)}function ht(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function dt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=_++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var c,u,h=[y,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(u=e[v]||(e[v]={}),r&&E(e,r))e=e[i]||e;else{if((c=u[o])&&c[0]===y&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function ft(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function pt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function mt(t,e,n,i,r,o){return i&&!i[v]&&(i=mt(i)),r&&!r[v]&&(r=mt(r,o)),et((function(o,s,a,l){var c,h,d,f,p=[],g=[],v=s.length,y=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)Z(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),_=!t||!o&&e?y:pt(y,p,t,a,l);if(n?n(_,f=r||(o?t:v||i)?[]:s,a,l):f=_,i)for(c=pt(f,g),i(c,[],a,l),h=c.length;h--;)(d=c[h])&&(f[g[h]]=!(_[g[h]]=d));if(o){if(r||t){if(r){for(c=[],h=f.length;h--;)(d=f[h])&&c.push(_[h]=d);r(null,f=[],c,l)}for(h=f.length;h--;)(d=f[h])&&(c=r?u.call(o,d):p[h])>-1&&(o[c]=!(s[c]=d))}}else f=pt(f===s?f.splice(v,f.length):f),r?r(null,s,f,l):m.apply(s,f)}))}function gt(t){for(var i,r,o,s=t.length,a=e.relative[t[0].type],l=a||e.relative[" "],c=a?1:0,h=dt((function(t){return t===i}),l,!0),d=dt((function(t){return u.call(i,t)>-1}),l,!0),f=[function(t,e,r){var o=!a&&(r||e!=n)||((i=e).nodeType?h(t,e,r):d(t,e,r));return i=null,o}];c<s;c++)if(r=e.relative[t[c].type])f=[dt(ft(f),r)];else{if((r=e.filter[t[c].type].apply(null,t[c].matches))[v]){for(o=++c;o<s&&!e.relative[t[o].type];o++);return mt(c>1&&ft(f),c>1&&ht(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(N,"$1"),r,c<o&&gt(t.slice(c,o)),o<s&&gt(t=t.slice(o)),o<s&&ht(t))}f.push(r)}return ft(f)}function vt(t,i){var r,o=[],s=[],a=x[t+" "];if(!a){for(i||(i=ut(t)),r=i.length;r--;)(a=gt(i[r]))[v]?o.push(a):s.push(a);a=x(t,function(t,i){var r=i.length>0,o=t.length>0,s=function(s,a,c,u,d){var f,p,g,v=0,_="0",b=s&&[],w=[],x=n,k=s||o&&e.find.TAG("*",d),C=y+=null==x?1:Math.random()||.1,M=k.length;for(d&&(n=a==l||a||d);_!==M&&null!=(f=k[_]);_++){if(o&&f){for(p=0,a||f.ownerDocument==l||(lt(f),c=!h);g=t[p++];)if(g(f,a||l,c)){m.call(u,f);break}d&&(y=C)}r&&((f=!g&&f)&&v--,s&&b.push(f))}if(v+=_,r&&_!==v){for(p=0;g=i[p++];)g(b,w,a,c);if(s){if(v>0)for(;_--;)b[_]||w[_]||(w[_]=A.call(u));w=pt(w)}m.apply(u,w),d&&!s&&w.length>0&&v+i.length>1&&T.uniqueSort(u)}return d&&(y=C,n=x),b};return r?et(s):s}(s,o)),a.selector=t}return a}function yt(t,n,i,r){var o,s,a,l,c,u="function"==typeof t&&t,d=!r&&ut(t=u.selector||t);if(i=i||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&e.relative[s[1].type]){if(!(n=(e.find.ID(a.matches[0].replace(Y,J),n)||[])[0]))return i;u&&(n=n.parentNode),t=t.slice(s.shift().value.length)}for(o=W.needsContext.test(t)?0:s.length;o--&&(a=s[o],!e.relative[l=a.type]);)if((c=e.find[l])&&(r=c(a.matches[0].replace(Y,J),G.test(s[0].type)&&at(n.parentNode)||n))){if(s.splice(o,1),!(t=r.length&&ht(s)))return m.apply(i,r),i;break}}return(u||vt(t,d))(r,n,!h,i,!n||G.test(t)&&at(n.parentNode)||n),i}ct.prototype=e.filters=e.pseudos,e.setFilters=new ct,g.sortStable=v.split("").sort(C).join("")===v,lt(),g.sortDetached=nt((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),T.find=Z,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,Z.compile=vt,Z.select=yt,Z.setDocument=lt,Z.tokenize=ut,Z.escape=T.escapeSelector,Z.getText=T.text,Z.isXML=T.isXMLDoc,Z.selectors=T.expr,Z.support=T.support,Z.uniqueSort=T.uniqueSort}();var z=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&T(t).is(n))break;i.push(t)}return i},$=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},I=T.expr.match.needsContext,q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(t,e,n){return v(e)?T.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?T.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?T.grep(t,(function(t){return u.call(e,t)>-1!==n})):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<i;e++)if(T.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,r[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(H(this,t||[],!1))},not:function(t){return this.pushStack(H(this,t||[],!0))},is:function(t){return!!H(this,"string"==typeof t&&I.test(t)?T(t):t||[],!1).length}});var F,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||F,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:B.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),q.test(i[1])&&T.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=_.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,F=T(_);var W=/^(?:parents|prev(?:Until|All))/,X={children:!0,contents:!0,next:!0,prev:!0};function U(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&T(t);if(!I.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(T(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return z(t,"parentNode")},parentsUntil:function(t,e,n){return z(t,"parentNode",n)},next:function(t){return U(t,"nextSibling")},prev:function(t){return U(t,"previousSibling")},nextAll:function(t){return z(t,"nextSibling")},prevAll:function(t){return z(t,"previousSibling")},nextUntil:function(t,e,n){return z(t,"nextSibling",n)},prevUntil:function(t,e,n){return z(t,"previousSibling",n)},siblings:function(t){return $((t.parentNode||{}).firstChild,t)},children:function(t){return $(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(E(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(n,i){var r=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=T.filter(i,r)),this.length>1&&(X[t]||T.uniqueSort(r),W.test(t)&&r.reverse()),this.pushStack(r)}}));var V=/[^\x20\t\r\n\f]+/g;function G(t){return t}function Y(t){throw t}function J(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(V)||[],(function(t,n){e[n]=!0})),e}(t):T.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){T.each(n,(function(n,i){v(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,(function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(n){T.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var o=0;function s(t,e,n,r){return function(){var a=this,l=arguments,c=function(){var i,c;if(!(t<o)){if((i=n.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,s(o,e,G,r),s(o,e,Y,r)):(o++,c.call(i,s(o,e,G,r),s(o,e,Y,r),s(o,e,G,e.notifyWith))):(n!==G&&(a=void 0,l=[i]),(r||e.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(i,u.error),t+1>=o&&(n!==Y&&(a=void 0,l=[i]),e.rejectWith(a,l))}};t?u():(T.Deferred.getErrorHook?u.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(u.error=T.Deferred.getStackHook()),i.setTimeout(u))}}return T.Deferred((function(i){e[0][3].add(s(0,i,v(r)?r:G,i.notifyWith)),e[1][3].add(s(0,i,v(t)?t:G)),e[2][3].add(s(0,i,v(n)?n:Y))})).promise()},promise:function(t){return null!=t?T.extend(t,r):r}},o={};return T.each(e,(function(t,i){var s=i[2],a=i[5];r[i[1]]=s.add,a&&s.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=a.call(arguments),o=T.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(J(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)J(r[n],s(n),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&K.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){i.setTimeout((function(){throw t}))};var Q=T.Deferred();function Z(){_.removeEventListener("DOMContentLoaded",Z),i.removeEventListener("load",Z),T.ready()}T.fn.ready=function(t){return Q.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||Q.resolveWith(_,[T]))}}),T.ready.then=Q.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?i.setTimeout(T.ready):(_.addEventListener("DOMContentLoaded",Z),i.addEventListener("load",Z));var tt=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===x(n))for(a in r=!0,n)tt(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},et=/^-ms-/,nt=/-([a-z])/g;function it(t,e){return e.toUpperCase()}function rt(t){return t.replace(et,"ms-").replace(nt,it)}var ot=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function st(){this.expando=T.expando+st.uid++}st.uid=1,st.prototype={cache:function(t){var e=t[this.expando];return e||(e={},ot(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[rt(e)]=n;else for(i in e)r[rt(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][rt(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(rt):(e=rt(e))in i?[e]:e.match(V)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var at=new st,lt=new st,ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ut=/[A-Z]/g;function ht(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(ut,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ct.test(t)?JSON.parse(t):t)}(n)}catch(t){}lt.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return lt.hasData(t)||at.hasData(t)},data:function(t,e,n){return lt.access(t,e,n)},removeData:function(t,e){lt.remove(t,e)},_data:function(t,e,n){return at.access(t,e,n)},_removeData:function(t,e){at.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=lt.get(o),1===o.nodeType&&!at.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=rt(i.slice(5)),ht(o,i,r[i]));at.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){lt.set(this,t)})):tt(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=lt.get(o,t))||void 0!==(n=ht(o,t))?n:void 0;this.each((function(){lt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){lt.remove(this,t)}))}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=at.get(t,e),n&&(!i||Array.isArray(n)?i=at.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,r=n.shift(),o=T._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){T.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return at.get(t,n)||at.access(t,n,{empty:T.Callbacks("once memory").add((function(){at.remove(t,[e+"queue",n])}))})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each((function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=T.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=at.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],mt=_.documentElement,gt=function(t){return T.contains(t.ownerDocument,t)},vt={composed:!0};mt.getRootNode&&(gt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(vt)===t.ownerDocument});var yt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&gt(t)&&"none"===T.css(t,"display")};function _t(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return T.css(t,e,"")},l=a(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),u=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&ft.exec(T.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)T.style(t,e,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,T.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var bt={};function wt(t){var e,n=t.ownerDocument,i=t.nodeName,r=bt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),bt[i]=r,r)}function xt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=at.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&yt(i)&&(r[o]=wt(i))):"none"!==n&&(r[o]="none",at.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}T.fn.extend({show:function(){return xt(this,!0)},hide:function(){return xt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){yt(this)?T(this).show():T(this).hide()}))}});var kt,Ct,Tt=/^(?:checkbox|radio)$/i,Mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i;kt=_.createDocumentFragment().appendChild(_.createElement("div")),(Ct=_.createElement("input")).setAttribute("type","radio"),Ct.setAttribute("checked","checked"),Ct.setAttribute("name","t"),kt.appendChild(Ct),g.checkClone=kt.cloneNode(!0).cloneNode(!0).lastChild.checked,kt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!kt.cloneNode(!0).lastChild.defaultValue,kt.innerHTML="<option></option>",g.option=!!kt.lastChild;var At={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function St(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?T.merge([t],n):n}function Dt(t,e){for(var n=0,i=t.length;n<i;n++)at.set(t[n],"globalEval",!e||at.get(e[n],"globalEval"))}At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,g.option||(At.optgroup=At.option=[1,"<select multiple='multiple'>","</select>"]);var Pt=/<|&#?\w+;/;function Nt(t,e,n,i,r){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===x(o))T.merge(d,o.nodeType?[o]:o);else if(Pt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Mt.exec(o)||["",""])[1].toLowerCase(),l=At[a]||At._default,s.innerHTML=l[1]+T.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;T.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&T.inArray(o,i)>-1)r&&r.push(o);else if(c=gt(o),s=St(h.appendChild(o),"script"),c&&Dt(s),n)for(u=0;o=s[u++];)Et.test(o.type||"")&&n.push(o);return h}var Rt=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function jt(){return!1}function Lt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Lt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=jt;else if(!r)return t;return 1===o&&(s=r,r=function(t){return T().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=T.guid++)),t.each((function(){T.event.add(this,e,r,i,n)}))}function zt(t,e,n){n?(at.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var n,i=at.get(this,e);if(1&t.isTrigger&&this[e]){if(i)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=a.call(arguments),at.set(this,e,i),this[e](),n=at.get(this,e),at.set(this,e,!1),i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else i&&(at.set(this,e,T.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Ot)}})):void 0===at.get(t,e)&&T.event.add(t,e,Ot)}T.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,m,g=at.get(t);if(ot(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&T.find.matchesSelector(mt,r),n.guid||(n.guid=T.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(V)||[""]).length;c--;)f=m=(a=Rt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=T.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=T.event.special[f]||{},u=T.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),T.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,m,g=at.hasData(t)&&at.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(V)||[""]).length;c--;)if(f=m=(a=Rt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=T.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||T.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)T.event.remove(t,f+e[c],n,i,!0);T.isEmptyObject(l)&&at.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),l=T.event.fix(t),c=(at.get(this,"events")||Object.create(null))[l.type]||[],u=T.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=T.event.handlers.call(this,l,c),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((T.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&E(e,"input")&&zt(e,"click",!0),!1},trigger:function(t){var e=this||t;return Tt.test(e.type)&&e.click&&E(e,"input")&&zt(e,"click"),!0},_default:function(t){var e=t.target;return Tt.test(e.type)&&e.click&&E(e,"input")&&at.get(e,"click")||E(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:jt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:jt,isPropagationStopped:jt,isImmediatePropagationStopped:jt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(_.documentMode){var n=at.get(this,"handle"),i=T.event.fix(t);i.type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,n(t),i.target===i.currentTarget&&n(i)}else T.event.simulate(e,t.target,T.event.fix(t))}T.event.special[t]={setup:function(){var i;if(zt(this,t,!0),!_.documentMode)return!1;(i=at.get(this,e))||this.addEventListener(e,n),at.set(this,e,(i||0)+1)},trigger:function(){return zt(this,t),!0},teardown:function(){var t;if(!_.documentMode)return!1;(t=at.get(this,e)-1)?at.set(this,e,t):(this.removeEventListener(e,n),at.remove(this,e))},_default:function(e){return at.get(e.target,t)},delegateType:e},T.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=_.documentMode?this:i,o=at.get(r,e);o||(_.documentMode?this.addEventListener(e,n):i.addEventListener(t,n,!0)),at.set(r,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=_.documentMode?this:i,o=at.get(r,e)-1;o?at.set(r,e,o):(_.documentMode?this.removeEventListener(e,n):i.removeEventListener(t,n,!0),at.remove(r,e))}}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||T.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),T.fn.extend({on:function(t,e,n,i){return Lt(this,t,e,n,i)},one:function(t,e,n,i){return Lt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=jt),this.each((function(){T.event.remove(this,t,n,e)}))}});var $t=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ht(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Wt(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(at.hasData(t)&&(a=at.get(t).events))for(r in at.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)T.event.add(e,r,a[r][n]);lt.hasData(t)&&(o=lt.access(t),s=T.extend({},o),lt.set(e,s))}}function Xt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Tt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ut(t,e,n,i){e=l(e);var r,o,s,a,c,u,h=0,d=t.length,f=d-1,p=e[0],m=v(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&It.test(p))return t.each((function(r){var o=t.eq(r);m&&(e[0]=p.call(this,r,o.html())),Ut(o,e,n,i)}));if(d&&(o=(r=Nt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=T.map(St(r,"script"),Ft)).length;h<d;h++)c=r,h!==f&&(c=T.clone(c,!0,!0),a&&T.merge(s,St(c,"script"))),n.call(t[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,T.map(s,Bt),h=0;h<a;h++)c=s[h],Et.test(c.type||"")&&!at.access(c,"globalEval")&&T.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(qt,""),c,u))}return t}function Vt(t,e,n){for(var i,r=e?T.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||T.cleanData(St(i)),i.parentNode&&(n&&gt(i)&&Dt(St(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=gt(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=St(a),i=0,r=(o=St(t)).length;i<r;i++)Xt(o[i],s[i]);if(e)if(n)for(o=o||St(t),s=s||St(a),i=0,r=o.length;i<r;i++)Wt(o[i],s[i]);else Wt(t,a);return(s=St(a,"script")).length>0&&Dt(s,!l&&St(t,"script")),a},cleanData:function(t){for(var e,n,i,r=T.event.special,o=0;void 0!==(n=t[o]);o++)if(ot(n)){if(e=n[at.expando]){if(e.events)for(i in e.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[at.expando]=void 0}n[lt.expando]&&(n[lt.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return tt(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ut(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ht(this,t).appendChild(t)}))},prepend:function(){return Ut(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ht(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ut(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ut(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(St(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return tt(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!At[(Mt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(St(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ut(this,arguments,(function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(St(this)),n&&n.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var n,i=[],r=T(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Gt=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),Yt=/^--/,Jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Kt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Qt=new RegExp(pt.join("|"),"i");function Zt(t,e,n){var i,r,o,s,a=Yt.test(e),l=t.style;return(n=n||Jt(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(N,"$1")||void 0),""!==s||gt(t)||(s=T.style(t,e)),!g.pixelBoxStyles()&&Gt.test(s)&&Qt.test(e)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=r,l.maxWidth=o)),void 0!==s?s+"":s}function te(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mt.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),r=36===e(t.width),u.style.position="absolute",o=12===e(u.offsetWidth/3),mt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,s,a,l,c=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,r;return null==a&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",mt.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,mt.removeChild(t)),a}}))}();var ee=["Webkit","Moz","ms"],ne=_.createElement("div").style,ie={};function re(t){return T.cssProps[t]||ie[t]||(t in ne?t:ie[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ee.length;n--;)if((t=ee[n]+e)in ne)return t}(t)||t)}var oe=/^(none|table(?!-c[ea]).+)/,se={position:"absolute",visibility:"hidden",display:"block"},ae={letterSpacing:"0",fontWeight:"400"};function le(t,e,n){var i=ft.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ce(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=T.css(t,n+pt[s],!0,r)),i?("content"===n&&(l-=T.css(t,"padding"+pt[s],!0,r)),"margin"!==n&&(l-=T.css(t,"border"+pt[s]+"Width",!0,r))):(l+=T.css(t,"padding"+pt[s],!0,r),"padding"!==n?l+=T.css(t,"border"+pt[s]+"Width",!0,r):a+=T.css(t,"border"+pt[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l+c}function ue(t,e,n){var i=Jt(t),r=(!g.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,i),o=r,s=Zt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Gt.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&E(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===T.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===T.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ce(t,e,n||(r?"border":"content"),o,i,s)+"px"}function he(t,e,n,i,r){return new he.prototype.init(t,e,n,i,r)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=rt(e),l=Yt.test(e),c=t.style;if(l||(e=re(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e];"string"==(o=typeof n)&&(r=ft.exec(n))&&r[1]&&(n=_t(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(T.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,s,a=rt(e);return Yt.test(e)||(e=re(a)),(s=T.cssHooks[e]||T.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Zt(t,e,i)),"normal"===r&&e in ae&&(r=ae[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!oe.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,e,i):Kt(t,se,(function(){return ue(t,e,i)}))},set:function(t,n,i){var r,o=Jt(t),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===T.css(t,"boxSizing",!1,o),l=i?ce(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ce(t,e,"border",!1,o)-.5)),l&&(r=ft.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),le(0,n,l)}}})),T.cssHooks.marginLeft=te(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Zt(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+pt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(T.cssHooks[t+e].set=le)})),T.fn.extend({css:function(t,e){return tt(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Jt(t),r=e.length;s<r;s++)o[e[s]]=T.css(t,e[s],!1,i);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=he,he.prototype={constructor:he,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=he.propHooks[this.prop];return t&&t.get?t.get(this):he.propHooks._default.get(this)},run:function(t){var e,n=he.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):he.propHooks._default.set(this),this}},he.prototype.init.prototype=he.prototype,he.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[re(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},he.propHooks.scrollTop=he.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=he.prototype.init,T.fx.step={};var de,fe,pe=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function ge(){fe&&(!1===_.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ge):i.setTimeout(ge,T.fx.interval),T.fx.tick())}function ve(){return i.setTimeout((function(){de=void 0})),de=Date.now()}function ye(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=pt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function _e(t,e,n){for(var i,r=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function be(t,e,n){var i,r,o=0,s=be.prefilters.length,a=T.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=de||ve(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||ve(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=rt(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=T.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=be.prefilters[o].call(c,t,u,c.opts))return v(i.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return T.map(u,_e,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(be,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return _t(n.elem,t,ft.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(V);for(var n,i=0,r=t.length;i<r;i++)n=t[i],be.tweeners[n]=be.tweeners[n]||[],be.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,c,u,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&yt(t),g=at.get(t,"fxshow");for(i in n.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],pe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||T.style(t,i)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=at.get(t,"display")),"none"===(u=T.css(t,"display"))&&(c?u=c:(xt([t],!0),c=t.style.display||c,u=T.css(t,"display"),xt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(t,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=at.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&xt([t],!0),d.done((function(){for(i in m||xt([t]),at.remove(t,"fxshow"),f)T.style(t,i,f[i])}))),l=_e(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(yt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=T.isEmptyObject(t),o=T.speed(e,n,i),s=function(){var e=be(this,T.extend({},t),o);(r||at.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=T.timers,s=at.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&me.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=at.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=T.timers,s=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ye(e,!0),t,i,r)}})),T.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(de=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),de=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){fe||(fe=!0,ge())},T.fx.stop=function(){fe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var we,xe=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return tt(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(r=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?we:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=T.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&E(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(V);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),we={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=xe[e]||T.find.attr;xe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=xe[s],xe[s]=r,r=null!=n(t,e,i)?s:null,xe[s]=o),r}}));var ke=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;function Te(t){return(t.match(V)||[]).join(" ")}function Me(t){return t.getAttribute&&t.getAttribute("class")||""}function Ee(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(V)||[]}T.fn.extend({prop:function(t,e){return tt(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,r=T.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):ke.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,n,i,r,o,s;return v(t)?this.each((function(e){T(this).addClass(t.call(this,e,Me(this)))})):(e=Ee(t)).length?this.each((function(){if(i=Me(this),n=1===this.nodeType&&" "+Te(i)+" "){for(o=0;o<e.length;o++)r=e[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Te(n),i!==s&&this.setAttribute("class",s)}})):this},removeClass:function(t){var e,n,i,r,o,s;return v(t)?this.each((function(e){T(this).removeClass(t.call(this,e,Me(this)))})):arguments.length?(e=Ee(t)).length?this.each((function(){if(i=Me(this),n=1===this.nodeType&&" "+Te(i)+" "){for(o=0;o<e.length;o++)for(r=e[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=Te(n),i!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,i,r,o,s=typeof t,a="string"===s||Array.isArray(t);return v(t)?this.each((function(n){T(this).toggleClass(t.call(this,n,Me(this),e),e)})):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=Ee(t),this.each((function(){if(a)for(o=T(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==t&&"boolean"!==s||((i=Me(this))&&at.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":at.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Te(Me(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;T.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,T(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,(function(t){return null==t?"":t+""}))),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ae,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:Te(T.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(e=T(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=T.makeArray(e),s=r.length;s--;)((i=r[s]).selected=T.inArray(T.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},g.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Se=i.location,De={guid:Date.now()},Pe=/\?/;T.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Ne=/^(?:focusinfocus|focusoutblur)$/,Re=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,r){var o,s,a,l,c,u,h,d,p=[n||_],m=f.call(t,"type")?t.type:t,g=f.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[T.expando]?t:new T.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),h=T.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(n,e))){if(!r&&!h.noBubble&&!y(n)){for(l=h.delegateType||m,Ne.test(l+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||_)&&p.push(a.defaultView||a.parentWindow||i)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:h.bindType||m,(u=(at.get(s,"events")||Object.create(null))[t.type]&&at.get(s,"handle"))&&u.apply(s,e),(u=c&&s[c])&&u.apply&&ot(s)&&(t.result=u.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!ot(n)||c&&v(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),T.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,Re),n[m](),t.isPropagationStopped()&&d.removeEventListener(m,Re),T.event.triggered=void 0,a&&(n[c]=a)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}});var Oe=/\[\]$/,je=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;function $e(t,e,n,i){var r;if(Array.isArray(e))T.each(e,(function(e,r){n||Oe.test(t)?i(t,r):$e(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==x(e))i(t,e);else for(r in e)$e(t+"["+r+"]",e[r],n,i)}T.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){r(this.name,this.value)}));else for(n in t)$e(n,t[n],e,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&ze.test(this.nodeName)&&!Le.test(t)&&(this.checked||!Tt.test(t))})).map((function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(t){return{name:e.name,value:t.replace(je,"\r\n")}})):{name:e.name,value:n.replace(je,"\r\n")}})).get()}});var Ie=/%20/g,qe=/#.*$/,He=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,We=/^\/\//,Xe={},Ue={},Ve="*/".concat("*"),Ge=_.createElement("a");function Ye(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(V)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Je(t,e,n,i){var r={},o=t===Ue;function s(a){var l;return r[a]=!0,T.each(t[a]||[],(function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ke(t,e){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}Ge.href=Se.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ke(Ke(t,T.ajaxSettings),e):Ke(T.ajaxSettings,t)},ajaxPrefilter:Ye(Xe),ajaxTransport:Ye(Ue),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,c,u,h,d,f=T.ajaxSetup({},e),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),v=T.Callbacks("once memory"),y=f.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Fe.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return n&&n.abort(e),C(0,e),this}};if(g.promise(k),f.url=((t||f.url||Se.href)+"").replace(We,Se.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(V)||[""],null==f.crossDomain){l=_.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ge.protocol+"//"+Ge.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),Je(Xe,f,e,k),c)return k;for(h in(u=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Be.test(f.type),r=f.url.replace(qe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ie,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Pe.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(He,"$1"),d=(Pe.test(r)?"&":"?")+"_="+De.guid+++d),f.url=r+d),f.ifModified&&(T.lastModified[r]&&k.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&k.setRequestHeader("If-None-Match",T.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ve+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||c))return k.abort();if(x="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),n=Je(Ue,f,e,k)){if(k.readyState=1,u&&m.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(a=i.setTimeout((function(){k.abort("timeout")}),f.timeout));try{c=!1,n.send(b,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,s,l){var h,d,_,b,w,x=e;c||(c=!0,a&&i.clearTimeout(a),n=void 0,o=l||"",k.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,k,s)),!h&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,b,k,h),h?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(T.etag[r]=w)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=b.state,d=b.data,h=!(_=b.error))):(_=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(e||x)+"",h?g.resolveWith(p,[d,x,k]):g.rejectWith(p,[k,x,_]),k.statusCode(y),y=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[k,f,h?d:_]),v.fireWith(p,[k,x]),u&&(m.trigger("ajaxComplete",[k,f]),--T.active||T.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:r,data:n,success:i},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){T(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},Ze=T.ajaxSettings.xhr();g.cors=!!Ze&&"withCredentials"in Ze,g.ajax=Ze=!!Ze,T.ajaxTransport((function(t){var e,n;if(g.cors||Ze&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}}));var tn,en=[],nn=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=en.pop()||T.expando+"_"+De.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,n){var r,o,s,a=!1!==t.jsonp&&(nn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(nn,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||T.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always((function(){void 0===o?T(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,en.push(r)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=((tn=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((i=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(i)):e=_),o=!n&&[],(r=q.exec(t))?[e.createElement(r[1])]:(r=Nt([t],e,o),o&&o.length&&T(o).remove(),T.merge([],r.childNodes)));var i,r,o},T.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=Te(t.slice(a)),t=t.slice(0,a)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&T.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=T.css(t,"position"),u=T(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=T.css(t,"top"),l=T.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,T.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),r.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-T.css(i,"marginTop",!0),left:e.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||mt}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return tt(this,(function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=te(g.pixelPosition,(function(t,n){if(n)return n=Zt(t,e),Gt.test(n)?T(t).position()[e]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){T.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return tt(this,(function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?T.css(e,n,a):T.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=a.call(arguments,2),r=function(){return t.apply(e||this,i.concat(a.call(arguments)))},r.guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=E,T.isFunction=v,T.isWindow=y,T.camelCase=rt,T.type=x,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(rn,"$1")},void 0===(n=function(){return T}.apply(e,[]))||(t.exports=n);var on=i.jQuery,sn=i.$;return T.noConflict=function(t){return i.$===T&&(i.$=sn),t&&i.jQuery===T&&(i.jQuery=on),T},void 0===r&&(i.jQuery=i.$=T),T}))},360:t=>{t.exports=class{constructor(t,e){this.env=t,this.canvas=e,this.mouse_x,this.mouse_y,this.mouse_c,this.mouse_r,this.left_click=!1,this.middle_click=!1,this.right_click=!1,this.cur_cell=null,this.cur_org=null,this.highlight_org=!0,this.defineEvents()}setControlPanel(t){this.control_panel=t}defineEvents(){this.canvas.addEventListener("mousemove",(t=>{this.updateMouseLocation(t.offsetX,t.offsetY),this.mouseMove()})),this.canvas.addEventListener("mouseup",function(t){t.preventDefault(),this.updateMouseLocation(t.offsetX,t.offsetY),this.mouseUp(),0==t.button&&(this.left_click=!1),1==t.button&&(this.middle_click=!1),2==t.button&&(this.right_click=!1)}.bind(this)),this.canvas.addEventListener("mousedown",function(t){t.preventDefault(),this.updateMouseLocation(t.offsetX,t.offsetY),0==t.button&&(this.left_click=!0),1==t.button&&(this.middle_click=!0),2==t.button&&(this.right_click=!0),this.mouseDown()}.bind(this)),this.canvas.addEventListener("contextmenu",(function(t){t.preventDefault()})),this.canvas.addEventListener("mouseleave",function(){this.left_click=!1,this.middle_click=!1,this.right_click=!1,this.env.renderer.clearAllHighlights(!0)}.bind(this)),this.canvas.addEventListener("mouseenter",function(t){this.left_click=!!(1&t.buttons),this.right_click=!!(2&t.buttons),this.middle_click=!!(4&t.buttons),this.updateMouseLocation(t.offsetX,t.offsetY),this.start_x=this.mouse_x,this.start_y=this.mouse_y}.bind(this))}updateMouseLocation(t,e){var n=this.cur_cell,i=this.cur_org;this.mouse_x=t,this.mouse_y=e;var r=this.env.grid_map.xyToColRow(this.mouse_x,this.mouse_y);this.mouse_c=r[0],this.mouse_r=r[1],this.cur_cell=this.env.grid_map.cellAt(this.mouse_c,this.mouse_r),this.cur_org=this.cur_cell.owner,this.cur_org==i&&this.cur_cell==n||(this.env.renderer.clearAllHighlights(!0),null!=this.cur_org&&this.highlight_org?this.env.renderer.highlightOrganism(this.cur_org):null!=this.cur_cell&&this.env.renderer.highlightCell(this.cur_cell,!0))}mouseMove(){alert("mouse move must be overridden")}mouseDown(){alert("mouse down must be overridden")}mouseUp(){alert("mouse up must be overridden")}}},735:t=>{t.exports={None:0,FoodDrop:1,WallDrop:2,ClickKill:3,Select:4,Edit:5,Clone:6,Drag:7}},843:(t,e,n)=>{var i=n(755);const r=n(418),o=n(735),s=n(967),a=n(139),l=n(642);t.exports=class{constructor(t){this.engine=t,this.defineMinMaxControls(),this.defineHotkeys(),this.defineEngineSpeedControls(),this.defineTabNavigation(),this.defineHyperparameterControls(),this.defineWorldControls(),this.defineModeControls(),this.fps=t.fps,this.organism_record=0,this.env_controller=this.engine.env.controller,this.editor_controller=this.engine.organism_editor.controller,this.env_controller.setControlPanel(this),this.editor_controller.setControlPanel(this),this.stats_panel=new s(this.engine.env),this.headless_opacity=1,this.opacity_change_rate=-.8,this.paused=!1,this.setHyperparamDefaults(),l.control_panel=this}defineMinMaxControls(){this.control_panel_active=!1,this.no_hud=!1,i("#minimize").click((()=>{i(".control-panel").css("display","none"),i(".hot-controls").css("display","block"),this.control_panel_active=!1,this.stats_panel.stopAutoRender()})),i("#maximize").click((()=>{i(".control-panel").css("display","grid"),i(".hot-controls").css("display","none"),this.control_panel_active=!0,"stats"==this.tab_id&&this.stats_panel.startAutoRender()}))}defineHotkeys(){i("body").keydown((t=>{let e=document.activeElement;if("INPUT"!==e.tagName||"text"!==e.type)switch(t.key.toLowerCase()){case"a":i(".reset-view")[0].click();break;case"s":i("#drag-view").click();break;case"d":i("#wall-drop").click();break;case"f":i("#food-drop").click();break;case"g":i("#click-kill").click();break;case"h":i(".headless")[0].click();break;case"j":case" ":t.preventDefault(),i(".pause-button")[0].click();break;case"q":t.preventDefault(),this.control_panel_active?i("#minimize").click():i("#maximize").click();break;case"z":i("#select").click();break;case"x":i("#edit").click();break;case"c":i("#drop-org").click();break;case"v":if(this.no_hud){let t=this.control_panel_active?"grid":"none",e=this.control_panel_active?"none":"block";this.control_panel_active&&"stats"==this.tab_id&&this.stats_panel.startAutoRender(),i(".control-panel").css("display",t),i(".hot-controls").css("display",e),i(".community-section").css("display","block")}else i(".control-panel").css("display","none"),i(".hot-controls").css("display","none"),i(".community-section").css("display","none"),l.close();this.no_hud=!this.no_hud;break;case"b":i("#clear-walls").click();break;case"t":i(".tree-of-life-button")[0].click()}}))}defineEngineSpeedControls(){this.slider=document.getElementById("slider"),this.slider.oninput=function(){this.fps=parseInt(this.slider.value),this.fps>=500&&(this.fps=1e3),this.engine.running&&this.changeEngineSpeed(this.fps);let t=this.fps>=500?"MAX":this.fps;i("#fps").text("Target FPS: "+t)}.bind(this),i(".pause-button").click(function(){this.setPaused(this.engine.running)}.bind(this)),i(".headless").click(function(){i(".headless").find("i").toggleClass("fa fa-eye"),i(".headless").find("i").toggleClass("fa fa-eye-slash"),a.headless?(i("#headless-notification").css("display","none"),this.engine.env.renderFull()):i("#headless-notification").css("display","block"),a.headless=!a.headless}.bind(this)),i(".tree-of-life-button").click(function(){a.tree_of_life?i("#treeContainer").css("z-index","1100"):i("#treeContainer").css("z-index","900"),a.tree_of_life=!a.tree_of_life}.bind(this))}defineTabNavigation(){this.tab_id="about";var t=this;i(".tabnav-item").click((function(){i(".tab").css("display","none");var e="#"+this.id+".tab";i(e).css("display","grid"),i(".tabnav-item").removeClass("open-tab"),i("#"+this.id+".tabnav-item").addClass("open-tab"),t.engine.organism_editor.is_active="editor"==this.id,t.stats_panel.stopAutoRender(),"stats"===this.id?t.stats_panel.startAutoRender():"editor"===this.id&&t.editor_controller.refreshDetailsPanel(),t.tab_id=this.id}))}defineWorldControls(){i("#fill-window").change((function(){this.checked?i(".col-row-input").css("display","none"):i(".col-row-input").css("display","block")})),i("#resize").click(function(){if(confirm("The current environment will be lost. Proceed?")){var t=i("#cell-size").val();if(i("#fill-window").is(":checked"))this.engine.env.resizeFillWindow(t);else{var e=i("#col-input").val(),n=i("#row-input").val();this.engine.env.resizeGridColRow(t,e,n)}this.engine.env.reset(!1),this.stats_panel.reset()}}.bind(this)),i("#auto-reset").change((function(){a.auto_reset=this.checked})),i("#auto-pause").change((function(){a.auto_pause=this.checked})),i("#clear-walls-reset").change((function(){a.clear_walls_on_reset=this.checked})),i("#reset-with-editor-org").click((()=>{let t=this.engine.env;if(!t.reset(!0,!1))return;let e=t.grid_map.getCenter(),n=this.editor_controller.env.getCopyOfOrg();this.env_controller.dropOrganism(n,e[0],e[1])})),i("#save-env").click((()=>{let t=this.engine.running;this.setPaused(!0);let e=this.engine.env.serialize(),n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),r=document.getElementById("download-el");r.setAttribute("href",n),r.setAttribute("download",i("#save-env-name").val()+".json"),r.click(),t&&this.setPaused(!1)})),i("#load-env").click((()=>{l.loadJson((t=>{this.loadEnv(t)}))})),i("#upload-env").change((t=>{let e=t.target.files;if(!e.length)return;let n=new FileReader;n.onload=t=>{try{let e=JSON.parse(t.target.result);this.loadEnv(e)}catch(t){console.error(t),alert("Failed to load world")}i("#upload-env")[0].value=""},n.readAsText(e[0])}))}loadEnv(t){"stats"==this.tab_id&&this.stats_panel.stopAutoRender();let e=this.engine.running;this.setPaused(!0),this.engine.env.loadRaw(t),e&&this.setPaused(!1),this.updateHyperparamUIValues(),this.env_controller.resetView(),"stats"==this.tab_id&&this.stats_panel.startAutoRender()}defineHyperparameterControls(){i("#food-prod-prob").change(function(){r.foodProdProb=i("#food-prod-prob").val()}.bind(this)),i("#lifespan-multiplier").change(function(){r.lifespanMultiplier=i("#lifespan-multiplier").val()}.bind(this)),i("#rot-enabled").change((function(){r.rotationEnabled=this.checked})),i("#insta-kill").change((function(){r.instaKill=this.checked})),i("#look-range").change((function(){r.lookRange=i("#look-range").val()})),i("#see-through-self").change((function(){r.seeThroughSelf=this.checked})),i("#food-drop-rate").change((function(){r.foodDropProb=i("#food-drop-rate").val()})),i("#extra-mover-cost").change((function(){r.extraMoverFoodCost=parseInt(i("#extra-mover-cost").val())})),i("#org-limit").change((function(){r.maxOrganisms=parseInt(i("#org-limit").val())})),i("#evolved-mutation").change((function(){this.checked?(i(".global-mutation-container").css("display","none"),i("#avg-mut").css("display","block")):(i(".global-mutation-container").css("display","block"),i("#avg-mut").css("display","none")),r.useGlobalMutability=!this.checked})),i("#global-mutation").change((function(){r.globalMutability=parseInt(i("#global-mutation").val())})),i(".mut-prob").change((function(){switch(this.id){case"add-prob":r.addProb=this.value;break;case"change-prob":r.changeProb=this.value;break;case"remove-prob":r.removeProb=this.value}i("#add-prob").val(Math.floor(r.addProb)),i("#change-prob").val(Math.floor(r.changeProb)),i("#remove-prob").val(Math.floor(r.removeProb))})),i("#movers-produce").change((function(){r.moversCanProduce=this.checked})),i("#food-blocks").change((function(){r.foodBlocksReproduction=this.checked})),i("#reset-rules").click((()=>{this.setHyperparamDefaults()})),i("#save-controls").click((()=>{let t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r)),e=document.getElementById("download-el");e.setAttribute("href",t),e.setAttribute("download","controls.json"),e.click()})),i("#load-controls").click((()=>{i("#upload-hyperparams").click()})),i("#upload-hyperparams").change((t=>{let e=t.target.files;if(!e.length)return;let n=new FileReader;n.onload=t=>{let e=JSON.parse(t.target.result);r.loadJsonObj(e),this.updateHyperparamUIValues(),i("#upload-hyperparams")[0].value=""},n.readAsText(e[0])}))}setHyperparamDefaults(){r.setDefaults(),this.updateHyperparamUIValues()}updateHyperparamUIValues(){i("#food-prod-prob").val(r.foodProdProb),i("#lifespan-multiplier").val(r.lifespanMultiplier),i("#rot-enabled").prop("checked",r.rotationEnabled),i("#insta-kill").prop("checked",r.instaKill),i("#evolved-mutation").prop("checked",!r.useGlobalMutability),i("#add-prob").val(r.addProb),i("#change-prob").val(r.changeProb),i("#remove-prob").val(r.removeProb),i("#movers-produce").prop("checked",r.moversCanProduce),i("#food-blocks").prop("checked",r.foodBlocksReproduction),i("#food-drop-rate").val(r.foodDropProb),i("#extra-mover-cost").val(r.extraMoverFoodCost),i("#org-limit").val(r.maxOrganisms),i("#look-range").val(r.lookRange),i("#see-through-self").prop("checked",r.seeThroughSelf),i("#global-mutation").val(r.globalMutability),r.useGlobalMutability?(i(".global-mutation-container").css("display","block"),i("#avg-mut").css("display","none")):(i(".global-mutation-container").css("display","none"),i("#avg-mut").css("display","block"))}defineModeControls(){var t=this;i(".edit-mode-btn").click((function(){switch(i("#cell-selections").css("display","none"),i("#organism-options").css("display","none"),t.editor_controller.setDetailsPanel(),this.id){case"food-drop":t.setMode(o.FoodDrop);break;case"wall-drop":t.setMode(o.WallDrop);break;case"click-kill":t.setMode(o.ClickKill);break;case"select":t.setMode(o.Select);break;case"edit":t.setMode(o.Edit);break;case"drop-org":t.setMode(o.Clone);break;case"drag-view":t.setMode(o.Drag)}i(".edit-mode-btn").removeClass("selected"),i("."+this.id).addClass("selected")})),i(".reset-view").click(function(){this.env_controller.resetView()}.bind(this));var e=this.engine.env;i("#reset-env").click(function(){e.reset(),this.stats_panel.reset()}.bind(this)),i("#clear-env").click((()=>{e.reset(!0,!1),this.stats_panel.reset()})),i("#brush-slider").on("input change",(function(){a.brush_size=this.value})),i("#random-walls").click(function(){this.env_controller.randomizeWalls()}.bind(this)),i("#clear-walls").click(function(){this.engine.env.clearWalls()}.bind(this)),i("#clear-editor").click(function(){this.engine.organism_editor.setDefaultOrg(),this.editor_controller.setEditorPanel()}.bind(this)),i("#generate-random").click(function(){this.engine.organism_editor.createRandom(),this.editor_controller.refreshDetailsPanel()}.bind(this)),i(".reset-random").click(function(){this.engine.organism_editor.resetWithRandomOrgs(this.engine.env)}.bind(this)),window.onbeforeunload=function(t){let e="this will cause a confirmation on page close";return(t=t||window.event)&&(t.returnValue=e),e}}setPaused(t){t?(i(".pause-button").find("i").removeClass("fa-pause"),i(".pause-button").find("i").addClass("fa-play"),this.engine.running&&this.engine.stop()):t||(i(".pause-button").find("i").addClass("fa-pause"),i(".pause-button").find("i").removeClass("fa-play"),this.engine.running||this.engine.start(this.fps))}setMode(t){this.env_controller.mode=t,this.editor_controller.mode=t,t==o.Edit&&this.editor_controller.setEditorPanel(),t==o.Clone&&(this.env_controller.org_to_clone=this.engine.organism_editor.getCopyOfOrg())}setEditorOrganism(t){this.engine.organism_editor.setOrganismToCopyOf(t),this.editor_controller.clearDetailsPanel(),this.editor_controller.setDetailsPanel()}changeEngineSpeed(t){this.engine.restart(t),this.fps=this.engine.fps}updateHeadlessIcon(t){if(this.engine.running){var e=this.headless_opacity+this.opacity_change_rate*t/1e3;e<=.4?(e=.4,this.opacity_change_rate=-this.opacity_change_rate):e>=1&&(e=1,this.opacity_change_rate=-this.opacity_change_rate),this.headless_opacity=e,i("#headless-notification").css("opacity",100*e+"%")}}update(t){i("#fps-actual").text("Actual FPS: "+Math.floor(this.engine.actual_fps)),i("#reset-count").text("Auto reset count: "+this.engine.env.reset_count),this.stats_panel.updateDetails(),a.headless&&this.updateHeadlessIcon(t)}}},842:(t,e,n)=>{var i=n(755);const r=n(360),o=n(735),s=n(96),a=n(261),l=n(418),c=n(653),u=n(642),h=n(379);t.exports=class extends r{constructor(t,e){super(t,e),this.mode=o.None,this.edit_cell_type=null,this.highlight_org=!1,this.defineCellTypeSelection(),this.defineEditorDetails(),this.defineSaveLoad()}mouseMove(){(this.right_click||this.left_click)&&this.editOrganism()}mouseDown(){this.editOrganism()}mouseUp(){}getCurLocalCell(){return this.env.organism.anatomy.getLocalCell(this.mouse_c-this.env.organism.c,this.mouse_r-this.env.organism.r)}editOrganism(){if(null!=this.edit_cell_type&&this.mode==o.Edit){if(this.left_click)if(this.edit_cell_type==s.eye&&this.cur_cell.state==s.eye){var t=this.getCurLocalCell();t.direction=a.rotateRight(t.direction),this.env.renderFull()}else this.env.addCellToOrg(this.mouse_c,this.mouse_r,this.edit_cell_type);else this.right_click&&this.env.removeCellFromOrg(this.mouse_c,this.mouse_r);this.setBrainPanelVisibility(),this.setMoveRangeVisibility(),this.updateDetails()}}updateDetails(){i(".species-name").text("Species name: "+this.env.organism.species.name),i(".cell-count").text("Cell count: "+this.env.organism.anatomy.cells.length),this.env.organism.isNatural()?i("#unnatural-org-warning").css("display","none"):i("#unnatural-org-warning").css("display","block")}defineCellTypeSelection(){var t=this;i(".cell-type").click((function(){switch(this.id){case"mouth":t.edit_cell_type=s.mouth;break;case"producer":t.edit_cell_type=s.producer;break;case"mover":t.edit_cell_type=s.mover;break;case"killer":t.edit_cell_type=s.killer;break;case"armor":t.edit_cell_type=s.armor;break;case"eye":t.edit_cell_type=s.eye}i(".cell-type").css("border-color","black");var e="#"+this.id+".cell-type";i(e).css("border-color","yellow")}))}defineEditorDetails(){this.details_html=i("#organism-details"),this.edit_details_html=i("#edit-organism-details"),this.decision_names=["ignore","move away","move towards"],i("#species-name-edit").on("focusout",function(){const t=i("#species-name-edit").val();""!==t&&t!==this.env.organism.species.name&&h.changeSpeciesName(this.env.organism.species,t)}.bind(this)),i("#move-range-edit").change(function(){this.env.organism.move_range=parseInt(i("#move-range-edit").val())}.bind(this)),i("#mutation-rate-edit").change(function(){this.env.organism.mutability=parseInt(i("#mutation-rate-edit").val())}.bind(this)),i("#observation-type-edit").change(function(){this.setBrainEditorValues(i("#observation-type-edit").val()),this.setBrainDetails()}.bind(this)),i("#reaction-edit").change(function(){var t=i("#observation-type-edit").val(),e=parseInt(i("#reaction-edit").val());this.env.organism.brain.decisions[t]=e,this.setBrainDetails()}.bind(this))}defineSaveLoad(){i("#save-org").click((()=>{let t=this.env.organism.serialize(),e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.getElementById("download-el");n.setAttribute("href",e);const i=this.env.organism.species.name?this.env.organism.species.name:"organism";n.setAttribute("download",i+".json"),n.click()})),i("#load-org").click((()=>{u.loadJson((t=>{this.loadOrg(t)}))}))}loadOrg(t){this.env.clear(),this.env.organism.loadRaw(t),this.refreshDetailsPanel(),this.env.organism.updateGrid(),this.env.renderFull(),this.env.organism.species=new c(this.env.organism.anatomy,null,0),t.species_name&&(this.env.organism.species.name=t.species_name),this.mode===o.Clone&&i("#drop-org").click()}clearDetailsPanel(){i("#organism-details").css("display","none"),i("#edit-organism-details").css("display","none"),i("#randomize-organism-details").css("display","none")}refreshDetailsPanel(){this.mode===o.Edit?this.setEditorPanel():this.setDetailsPanel()}setDetailsPanel(){this.clearDetailsPanel();var t=this.env.organism;this.updateDetails(),i("#move-range").text("Move Range: "+t.move_range),i("#mutation-rate").text("Mutation Rate: "+t.mutability),l.useGlobalMutability?i("#mutation-rate").css("display","none"):i("#mutation-rate").css("display","block"),this.setMoveRangeVisibility(),this.setBrainPanelVisibility()&&this.setBrainDetails(),i("#organism-details").css("display","block")}setEditorPanel(){this.clearDetailsPanel();var t=this.env.organism;i("#species-name-edit").val(t.species.name),i(".cell-count").text("Cell count: "+t.anatomy.cells.length),this.setMoveRangeVisibility()&&i("#move-range-edit").val(t.move_range),i("#mutation-rate-edit").val(t.mutability),l.useGlobalMutability?i("#mutation-rate-cont").css("display","none"):i("#mutation-rate-cont").css("display","block"),this.setBrainPanelVisibility()&&this.setBrainEditorValues(i("#observation-type-edit").val()),i("#cell-selections").css("display","grid"),i("#edit-organism-details").css("display","block")}setBrainPanelVisibility(){var t=this.env.organism;return t.anatomy.has_eyes&&t.anatomy.is_mover?(i(".brain-details").css("display","block"),!0):(i(".brain-details").css("display","none"),!1)}setBrainDetails(){var t=[],e=[];for(var n in this.env.organism.brain.decisions){var r=this.env.organism.brain.decisions[n];1==r?e.push(n):2==r&&t.push(n)}i(".chase-types").text("Move Towards: "+t),i(".retreat-types").text("Move Away From: "+e)}setMoveRangeVisibility(){return this.env.organism.anatomy.is_mover?(i("#move-range-cont").css("display","block"),i("#move-range").css("display","block"),!0):(i("#move-range-cont").css("display","none"),i("#move-range").css("display","none"),!1)}setBrainEditorValues(t){i("#observation-type-edit").val(t);var e=this.env.organism.brain.decisions[t];i("#reaction-edit").val(e)}setRandomizePanel(){this.clearDetailsPanel(),i("#randomize-organism-details").css("display","block")}loadSpeciesInEditor(t){console.log("WE TRIED TO LOAD ORG"),this.loadOrg(t)}getOrganismDetails(t){}}},464:(t,e,n)=>{var i=n(755);const r=n(360),o=n(527),s=n(735),a=n(96),l=n(201),c=n(379),u=n(139),h=n(744);t.exports=class extends r{constructor(t,e){super(t,e),this.mode=s.FoodDrop,this.org_to_clone=null,this.defineZoomControls(),this.scale=1}defineZoomControls(){var t=1;const e=document.querySelector("#env-canvas");e.onwheel=function(n){n.preventDefault();var r=Math.sign(n.deltaY);t*=Math.pow(.7,r);const o=Math.pow(2,-3);t=Math.min(32,Math.max(o,t));var s=parseInt(i("#env-canvas").css("top")),a=parseInt(i("#env-canvas").css("left")),l=(this.canvas.width/2-this.mouse_x)*(t-this.scale),c=(this.canvas.height/2-this.mouse_y)*(t-this.scale);i("#env-canvas").css("top",s+c+"px"),i("#env-canvas").css("left",a+l+"px"),e.style.transform=`scale(${t})`,this.scale=t}.bind(this)}resetView(){i("#env-canvas").css("transform","scale(1)"),i("#env-canvas").css("top","0px"),i("#env-canvas").css("left","0px"),this.scale=1}randomizeWalls(t=1){this.env.clearWalls();const e=-.017;let n=0;h.seed();for(let i=0;i<this.env.num_rows;i++)for(let r=0;r<this.env.num_cols;r++){let o=r/this.env.num_cols*(20/this.env.renderer.cell_size*(this.env.num_cols/this.env.num_rows)),s=i/this.env.num_rows*(20/this.env.renderer.cell_size*(this.env.num_rows/this.env.num_cols)),l=h.get(o,s);if(n+=l/(this.env.num_rows*this.env.num_cols),l>e&&l<e+t/20){let t=this.env.grid_map.cellAt(r,i);null!=t&&(null!=t.owner&&t.owner.die(),this.env.changeCell(r,i,a.wall,null))}}}updateMouseLocation(t,e){super.updateMouseLocation(t,e)}mouseMove(){this.performModeAction()}mouseDown(){this.start_x=this.mouse_x,this.start_y=this.mouse_y,this.performModeAction()}mouseUp(){}performModeAction(){if(!u.headless||this.mode==s.Drag){var t=this.mode,e=this.right_click,n=this.left_click;if(t!=s.None&&(e||n)){var i=this.cur_cell;if(null==i)return;switch(t){case s.FoodDrop:n?this.dropCellType(i.col,i.row,a.food,!1,a.wall):e&&this.dropCellType(i.col,i.row,a.empty,!1,a.wall);break;case s.WallDrop:n?this.dropCellType(i.col,i.row,a.wall,!0):e&&this.dropCellType(i.col,i.row,a.empty,!1,a.food);break;case s.ClickKill:this.killNearOrganisms();break;case s.Select:null==this.cur_org&&(this.cur_org=this.findNearOrganism()),null!=this.cur_org&&this.control_panel.setEditorOrganism(this.cur_org);break;case s.Clone:null!=this.org_to_clone&&this.dropOrganism(this.org_to_clone,this.mouse_c,this.mouse_r);break;case s.Drag:this.dragScreen()}}else this.middle_click&&this.dragScreen()}}dragScreen(){var t=parseInt(i("#env-canvas").css("top")),e=parseInt(i("#env-canvas").css("left")),n=t+(this.mouse_y-this.start_y)*this.scale,r=e+(this.mouse_x-this.start_x)*this.scale;i("#env-canvas").css("top",n+"px"),i("#env-canvas").css("left",r+"px")}dropOrganism(t,e,n){var i=new o(e,n,this.env,t);if(i.isClear(e,n)){let t=!c.speciesIsExtant(i.species.name);return i.species.extinct?c.resurrect(i.species):t&&(c.addSpeciesObj(i.species),i.species.start_tick=this.env.total_ticks,i.species.population=0),this.env.addOrganism(i),i.species.addPop(),!0}return!1}dropCellType(t,e,n,i=!1,r=null){for(var o of l.inRange(u.brush_size)){var s=t+o[0],a=e+o[1],c=this.env.grid_map.cellAt(s,a);if(null!=c){if(i&&null!=c.owner)c.owner.die();else if(null!=c.owner)continue;null!=r&&c.state==r||this.env.changeCell(s,a,n,null)}}}findNearOrganism(){let t=null,e=100;for(let n of l.inRange(u.brush_size)){let i=this.cur_cell.col+n[0],r=this.cur_cell.row+n[1],o=this.env.grid_map.cellAt(i,r),s=Math.abs(n[0])+Math.abs(n[1]);null!=o&&null!=o.owner&&(null===t||s<e)&&(t=o.owner,e=s)}return t}killNearOrganisms(){for(var t of l.inRange(u.brush_size)){var e=this.cur_cell.col+t[0],n=this.cur_cell.row+t[1],i=this.env.grid_map.cellAt(e,n);null!=i&&null!=i.owner&&i.owner.die()}}}},642:(t,e,n)=>{var i=n(755);const r={init(){i("#close-load-btn").click((()=>{this.close()})),i("#load-custom-btn").click((()=>{i("#upload-json").click()})),i("#community-creations-btn").click((()=>{this.open()}));let t=this;i(".load-panel").on("click",".list-item",(async function(){let e=i(this).closest(".list-container").attr("id"),n=i(this).find(".hidden-value").text();if("worlds-list-container"===e){const e="./assets/worlds/";let i=await fetch(e+n+".json"),r=await i.json();t.control_panel.loadEnv(r),t.close()}else if("organisms-list-container"===e){const e="./assets/organisms/";let r=await fetch(e+n+".json"),o=await r.json();t.control_panel.editor_controller.loadOrg(o),t.close(),i("#maximize").click(),i("#editor").click()}else"mods-list-container"===e&&window.open(n,"_blank")})),i("#load-env-btn").click((async()=>{})),i("#load-org-btn").click((async()=>{})),this.loadList("worlds"),this.loadList("organisms"),this.loadList("mods")},async loadList(t){const e=`./assets/${t}/`;let n=[];try{let t=await fetch(e+"_list.json");n=await t.json()}catch(t){console.error("Failed to load list: ",t)}let r=`#${t}-list`;i(r).empty();for(let t of n){let e=`<li class="list-item">\n                        ${t.name}`;t.subname&&(e+=`<br>(${t.subname})`),e+=`<div class="hidden-value" hidden>${t.value}</div>\n                    </li>`,i(r).append(e)}},async open(){i(".load-panel").css("display","block")},loadJson(t){i("#upload-json").change((e=>{let n=e.target.files;if(!n.length)return;let r=new FileReader;r.onload=e=>{try{let n=JSON.parse(e.target.result);t(n),this.close()}catch(e){console.error(e),alert("Failed to load")}i("#upload-json")[0].value=""},r.readAsText(n[0])})),i("#upload-json").click()},close(){i(".load-panel").css("display","none"),i("#load-selected-btn").off("click"),i("#upload-json").off("change")}};i(document).ready((()=>{r.init()})),t.exports=r},121:(t,e,n)=>{const i=n(14),r=n(843),o=n(824),s=n(273);t.exports=class{constructor(){this.fps=60,this.env=new i(5),this.organism_editor=new o,this.controlpanel=new r(this),this.colorscheme=new s(this.env,this.organism_editor),this.colorscheme.loadColorScheme(),this.env.OriginOfLife(),this.sim_last_update=Date.now(),this.sim_delta_time=0,this.ui_last_update=Date.now(),this.ui_delta_time=0,this.actual_fps=0,this.running=!1}start(t=60){t<=0&&(t=1),this.fps=t,this.sim_loop=setInterval((()=>{this.updateSimDeltaTime(),this.environmentUpdate()}),1e3/t),this.running=!0,this.fps>=60?null!=this.ui_loop&&(clearInterval(this.ui_loop),this.ui_loop=null):this.setUiLoop()}stop(){clearInterval(this.sim_loop),this.running=!1,this.setUiLoop()}restart(t){clearInterval(this.sim_loop),this.start(t)}setUiLoop(){this.ui_loop||(this.ui_loop=setInterval((()=>{this.updateUIDeltaTime(),this.necessaryUpdate()}),1e3/60))}updateSimDeltaTime(){this.sim_delta_time=Date.now()-this.sim_last_update,this.sim_last_update=Date.now(),this.ui_loop||(this.ui_delta_time=this.sim_delta_time)}updateUIDeltaTime(){this.ui_delta_time=Date.now()-this.ui_last_update,this.ui_last_update=Date.now()}environmentUpdate(){this.actual_fps=1e3/this.sim_delta_time,this.env.update(this.sim_delta_time),null==this.ui_loop&&this.necessaryUpdate()}necessaryUpdate(){this.env.render(),this.controlpanel.update(this.ui_delta_time),this.organism_editor.update()}}},301:t=>{t.exports=class{constructor(){}update(){alert("Environment.update() must be overriden")}changeCell(t,e,n,i){this.grid_map.setCellType(t,e,n),this.grid_map.setCellOwner(t,e,i)}}},824:(t,e,n)=>{var i=n(755);const r=n(301),o=n(527),s=n(297),a=n(200),l=n(96),c=n(842),u=n(653),h=n(734);t.exports=class extends r{constructor(){super(),this.is_active=!0,this.renderer=new a("editor-canvas","editor-env",13),this.controller=new c(this,this.renderer.canvas),this.grid_map=new s(15,15,13),this.setDefaultOrg()}update(){this.is_active&&this.renderer.renderHighlights()}changeCell(t,e,n,i){super.changeCell(t,e,n,i),this.renderFull()}renderFull(){this.renderer.renderFullGrid(this.grid_map.grid)}addCellToOrg(t,e,n){var i=this.grid_map.getCenter(),r=t-i[0],o=e-i[1],s=this.organism.anatomy.getLocalCell(r,o);if(null!=s){var a=this.organism.anatomy.replaceCell(n,s.loc_col,s.loc_row,!1);this.changeCell(t,e,n,a)}else this.organism.anatomy.canAddCellAt(r,o)&&this.changeCell(t,e,n,this.organism.anatomy.addDefaultCell(n,r,o));this.organism.species=new u(this.organism.anatomy,null,0)}removeCellFromOrg(t,e){var n=this.grid_map.getCenter(),i=t-n[0],r=e-n[1];0!=i||0!=r?null!=this.organism.anatomy.getLocalCell(i,r)&&this.organism.anatomy.removeCell(i,r)&&(this.changeCell(t,e,l.empty,null),this.organism.species=new u(this.organism.anatomy,null,0)):alert("Cannot remove center cell")}setOrganismToCopyOf(t){this.grid_map.fillGrid(l.empty);var e=this.grid_map.getCenter();this.organism=new o(e[0],e[1],this,t),this.organism.updateGrid(),this.controller.updateDetails()}getCopyOfOrg(){return new o(0,0,null,this.organism)}clear(){this.grid_map.fillGrid(l.empty)}setDefaultOrg(){this.clear();var t=this.grid_map.getCenter();this.organism=new o(t[0],t[1],this,null),this.organism.anatomy.addDefaultCell(l.mouth,0,0),this.organism.updateGrid(),this.organism.species=new u(this.organism.anatomy,null,0)}createRandom(){this.grid_map.fillGrid(l.empty),this.organism=h.generate(this),this.organism.updateGrid(),this.organism.species=new u(this.organism.anatomy,null,0)}resetWithRandomOrgs(t){if(!t.reset(!0,!1))return;let e=parseInt(i("#num-random-orgs").val()),n=Math.ceil(8);for(let i=0;i<e;i++){let e=h.generate(this);e.species=new u(e.anatomy,null,0);var r=Math.floor(n+Math.random()*(t.grid_map.cols-2*n)),o=Math.floor(n+Math.random()*(t.grid_map.rows-2*n));t.controller.dropOrganism(e,r,o)}}}},14:(t,e,n)=>{var i=n(755);const r=n(301),o=n(200),s=n(297),a=n(527),l=n(96),c=n(464),u=n(418),h=n(379),d=n(139),f=n(862),p=n(653);t.exports=class extends r{constructor(t){super(),this.renderer=new o("env-canvas","env",t),this.controller=new c(this,this.renderer.canvas),this.num_rows=Math.ceil(this.renderer.height/t),this.num_cols=Math.ceil(this.renderer.width/t),this.grid_map=new s(this.num_cols,this.num_rows,t),this.organisms=[],this.walls=[],this.total_mutability=0,this.largest_cell_count=0,this.reset_count=0,this.total_ticks=0,this.data_update_rate=100,h.setEnv(this)}update(){var t=[];for(var e in this.organisms){var n=this.organisms[e];n.living&&n.update()||t.push(e)}this.removeOrganisms(t),u.foodDropProb>0&&this.generateFood(),this.total_ticks++,this.total_ticks%this.data_update_rate==0&&h.updateData()}render(){d.headless?this.renderer.cells_to_render.clear():(this.renderer.renderCells(),this.renderer.renderHighlights())}renderFull(){this.renderer.renderFullGrid(this.grid_map.grid)}removeOrganisms(t){let e=this.organisms.length;for(var n of t.reverse())this.total_mutability-=this.organisms[n].mutability,this.organisms.splice(n,1);0===this.organisms.length&&e>0&&(d.auto_pause?i(".pause-button")[0].click():d.auto_reset&&(this.reset_count++,this.reset(!1)))}OriginOfLife(){var t=this.grid_map.getCenter(),e=new a(t[0],t[1],this);e.anatomy.addDefaultCell(l.mouth,0,0),e.anatomy.addDefaultCell(l.producer,1,1),e.anatomy.addDefaultCell(l.producer,-1,-1),this.addOrganism(e),h.addSpecies(e,null)}addOrganism(t){t.updateGrid(),this.total_mutability+=t.mutability,this.organisms.push(t),t.anatomy.cells.length>this.largest_cell_count&&(this.largest_cell_count=t.anatomy.cells.length)}canAddOrganism(){return this.organisms.length<u.maxOrganisms||u.maxOrganisms<0}averageMutability(){return this.organisms.length<1?0:u.useGlobalMutability?u.globalMutability:this.total_mutability/this.organisms.length}changeCell(t,e,n,i){super.changeCell(t,e,n,i),this.renderer.addToRender(this.grid_map.cellAt(t,e)),n==l.wall&&this.walls.push(this.grid_map.cellAt(t,e))}clearWalls(){for(var t of this.walls){let e=this.grid_map.cellAt(t.col,t.row);e&&e.state==l.wall&&this.changeCell(t.col,t.row,l.empty,null)}}clearOrganisms(){for(var t of this.organisms)t.die();this.organisms=[]}clearDeadOrganisms(){let t=[];for(let e in this.organisms)this.organisms[e].living||t.push(e);this.removeOrganisms(t)}generateFood(){for(var t=Math.max(Math.floor(this.grid_map.cols*this.grid_map.rows*u.foodDropProb/5e4),1),e=u.foodDropProb,n=0;n<t;n++)if(Math.random()<=e){var i=Math.floor(Math.random()*this.grid_map.cols),r=Math.floor(Math.random()*this.grid_map.rows);this.grid_map.cellAt(i,r).state==l.empty&&this.changeCell(i,r,l.food,null)}}reset(t=!0,e=!0){return!(t&&!confirm("The current environment will be lost. Proceed?")||(this.organisms=[],this.grid_map.fillGrid(l.empty,!d.clear_walls_on_reset),this.renderer.renderFullGrid(this.grid_map.grid),this.total_mutability=0,this.total_ticks=0,h.clear_record(),e&&this.OriginOfLife(),0))}resizeGridColRow(t,e,n){this.renderer.cell_size=t,this.renderer.fillShape(n*t,e*t),this.grid_map.resize(e,n,t)}resizeFillWindow(t){this.renderer.cell_size=t,this.renderer.fillWindow("env"),this.num_cols=Math.ceil(this.renderer.width/t),this.num_rows=Math.ceil(this.renderer.height/t),this.grid_map.resize(this.num_cols,this.num_rows,t)}serialize(){this.clearDeadOrganisms();let t=f.copyNonObjects(this);t.grid=this.grid_map.serialize(),t.organisms=[];for(let e of this.organisms)t.organisms.push(e.serialize());return t.fossil_record=h.serialize(),t.controls=u,t}loadRaw(t){this.organisms=[],h.clear_record();let e=t.grid.cell_size?t.grid.cell_size:this.grid_map.cell_size;this.resizeGridColRow(e,t.grid.cols,t.grid.rows),this.grid_map.loadRaw(t.grid);for(let e of t.grid.walls)this.walls.push(this.grid_map.cellAt(e.c,e.r));let n={};for(let e in t.fossil_record.species){let i=new p(null,null,0);f.overwriteNonObjects(t.fossil_record.species[e],i),n[e]=i}for(let e of t.organisms){let i=new a(e.col,e.row,this);i.loadRaw(e),this.addOrganism(i);let r=n[e.species_name];r||(r=new p(i.anatomy,null,t.total_ticks),n[e.species_name]=r),r.anatomy||(r.anatomy=i.anatomy,r.calcAnatomyDetails()),r.name=e.species_name,i.species=r}for(let t in n)h.addSpeciesObj(n[t]);h.loadRaw(t.fossil_record),f.overwriteNonObjects(t,this),i("#override-controls").is(":checked")&&u.loadJsonObj(t.controls),this.renderer.renderFullGrid(this.grid_map.grid)}}},297:(t,e,n)=>{const i=n(632),r=n(96);t.exports=class{constructor(t,e,n){this.resize(t,e,n)}resize(t,e,n){this.grid=[],this.cols=t,this.rows=e,this.cell_size=n;for(var o=0;o<t;o++){for(var s=[],a=0;a<e;a++){var l=new i(r.empty,o,a,o*n,a*n);s.push(l)}this.grid.push(s)}}fillGrid(t,e=!1){for(var n of this.grid)for(var i of n)e&&i.state===r.wall||(i.setType(t),i.owner=null,i.cell_owner=null)}cellAt(t,e){return this.isValidLoc(t,e)?this.grid[t][e]:null}setCellType(t,e,n){this.isValidLoc(t,e)&&this.grid[t][e].setType(n)}setCellOwner(t,e,n){this.isValidLoc(t,e)&&(this.grid[t][e].cell_owner=n,this.grid[t][e].owner=null!=n?n.org:null)}isValidLoc(t,e){return t<this.cols&&e<this.rows&&t>=0&&e>=0}getCenter(){return[Math.floor(this.cols/2),Math.floor(this.rows/2)]}xyToColRow(t,e){var n=Math.floor(t/this.cell_size),i=Math.floor(e/this.cell_size);return n>=this.cols?n=this.cols-1:n<0&&(n=0),i>=this.rows?i=this.rows-1:i<0&&(i=0),[n,i]}serialize(){let t={cell_size:this.cell_size,cols:this.cols,rows:this.rows,food:[],walls:[]};for(let e of this.grid)for(let n of e)if(n.state===r.wall||n.state===r.food){let e={c:n.col,r:n.row};n.state===r.food?t.food.push(e):t.walls.push(e)}return t}loadRaw(t){for(let e of t.food)this.setCellType(e.c,e.r,r.food);for(let e of t.walls)this.setCellType(e.c,e.r,r.wall)}}},201:t=>{t.exports={all:[[0,1],[0,-1],[1,0],[-1,0],[-1,-1],[1,1],[-1,1],[1,-1]],adjacent:[[0,1],[0,-1],[1,0],[-1,0]],corners:[[-1,-1],[1,1],[-1,1],[1,-1]],allSelf:[[0,0],[0,1],[0,-1],[1,0],[-1,0],[-1,-1],[1,1],[-1,1],[1,-1]],inRange:function(t){for(var e=[],n=-t;n<=t;n++)for(var i=-t;i<=t;i++)e.push([n,i]);return e}}},418:(t,e,n)=>{const i=n(201),r={setDefaults:function(){this.lifespanMultiplier=100,this.foodProdProb=5,this.killableNeighbors=i.adjacent,this.edibleNeighbors=i.adjacent,this.growableNeighbors=i.adjacent,this.useGlobalMutability=!1,this.globalMutability=5,this.addProb=33,this.changeProb=33,this.removeProb=33,this.rotationEnabled=!0,this.foodBlocksReproduction=!0,this.moversCanProduce=!1,this.instaKill=!1,this.lookRange=20,this.seeThroughSelf=!1,this.foodDropProb=0,this.extraMoverFoodCost=0,this.maxOrganisms=-1},loadJsonObj(t){for(let e in t)this[e]=t[e]}};r.setDefaults(),t.exports=r},179:(t,e,n)=>{const i=n(96),r=n(101),o=n(862);t.exports=class{constructor(t){this.owner=t,this.birth_distance=4,this.clear()}clear(){this.cells=[],this.is_producer=!1,this.is_mover=!1,this.has_eyes=!1}canAddCellAt(t,e){for(var n of this.cells)if(n.loc_col==t&&n.loc_row==e)return!1;return!0}addDefaultCell(t,e,n){var i=r.createDefault(this.owner,t,e,n);return this.cells.push(i),i}addRandomizedCell(t,e,n){t!=i.eye||this.has_eyes||this.owner.brain.randomizeDecisions();var o=r.createRandom(this.owner,t,e,n);return this.cells.push(o),o}addInheritCell(t){var e=r.createInherited(this.owner,t);return this.cells.push(e),e}replaceCell(t,e,n,i=!0){return this.removeCell(e,n,!0),i?this.addRandomizedCell(t,e,n):this.addDefaultCell(t,e,n)}removeCell(t,e,n=!1){if(0==t&&0==e&&!n)return!1;for(var i=0;i<this.cells.length;i++){var r=this.cells[i];if(r.loc_col==t&&r.loc_row==e){this.cells.splice(i,1);break}}return this.checkTypeChange(),!0}getLocalCell(t,e){for(var n of this.cells)if(n.loc_col==t&&n.loc_row==e)return n;return null}checkTypeChange(){for(var t of(this.is_producer=!1,this.is_mover=!1,this.has_eyes=!1,this.cells))t.state==i.producer&&(this.is_producer=!0),t.state==i.mover&&(this.is_mover=!0),t.state==i.eye&&(this.has_eyes=!0)}getRandomCell(){return this.cells[Math.floor(Math.random()*this.cells.length)]}getNeighborsOfCell(t,e){for(var n=[],i=-1;i<=1;i++)for(var r=-1;r<=1;r++){var o=this.getLocalCell(t+i,e+r);o&&n.push(o)}return n}isEqual(t){if(this.cells.length!==t.cells.length)return!1;for(let e in this.cells){let n=this.cells[e],i=t.cells[e];if(n.loc_col!==i.loc_col||n.loc_row!==i.loc_row||n.state!==i.state)return!1}return!0}serialize(){let t=o.copyNonObjects(this);t.cells=[];for(let e of this.cells){let n=o.copyNonObjects(e);n.state={name:e.state.name},t.cells.push(n)}return t}loadRaw(t){this.clear();for(let e of t.cells)this.addInheritCell(e)}}},852:(t,e,n)=>{const i=n(96),r=n(110);t.exports=class extends r{constructor(t,e,n){super(i.armor,t,e,n)}}},110:(t,e,n)=>{n(96);const i=n(261);t.exports=class{constructor(t,e,n,i){this.state=t,this.org=e,this.loc_col=n,this.loc_row=i;var r=Math.max(2*Math.abs(i)+2,2*Math.abs(n)+2);this.org.anatomy.birth_distance<r&&(this.org.anatomy.birth_distance=r)}initInherit(t){this.loc_col=t.loc_col,this.loc_row=t.loc_row}initRandom(){}initDefault(){}performFunction(t){}getRealCol(){return this.org.c+this.rotatedCol(this.org.rotation)}getRealRow(){return this.org.r+this.rotatedRow(this.org.rotation)}getRealCell(){var t=this.getRealCol(),e=this.getRealRow();return this.org.env.grid_map.cellAt(t,e)}rotatedCol(t){switch(t){case i.up:return this.loc_col;case i.down:return-1*this.loc_col;case i.left:return this.loc_row;case i.right:return-1*this.loc_row}}rotatedRow(t){switch(t){case i.up:return this.loc_row;case i.down:return-1*this.loc_row;case i.left:return-1*this.loc_col;case i.right:return this.loc_col}}}},101:(t,e,n)=>{const i=n(140),r=n(209),o=n(289),s=n(490),a=n(852),l=n(659),c=n(96),u={init:function(){var t={};t[c.mouth.name]=i,t[c.producer.name]=r,t[c.mover.name]=o,t[c.killer.name]=s,t[c.armor.name]=a,t[c.eye.name]=l,this.type_map=t},createInherited:function(t,e){var n=new this.type_map[e.state.name](t,e.loc_col,e.loc_row);return n.initInherit(e),n},createRandom:function(t,e,n,i){var r=new this.type_map[e.name](t,n,i);return r.initRandom(),r},createDefault:function(t,e,n,i){var r=new this.type_map[e.name](t,n,i);return r.initDefault(),r}};u.init(),t.exports=u},659:(t,e,n)=>{const i=n(96),r=n(110),o=n(418),s=n(261),a=n(463);t.exports=class extends r{constructor(t,e,n){super(i.eye,t,e,n),this.org.anatomy.has_eyes=!0}initInherit(t){super.initInherit(t),this.direction=t.direction}initRandom(){this.direction=s.getRandomDirection()}initDefault(){this.direction=s.up}getAbsoluteDirection(){var t=this.org.rotation+this.direction;return t>3&&(t-=4),t}performFunction(){var t=this.look();this.org.brain.observe(t)}look(){var t=this.org.env,e=this.getAbsoluteDirection(),n=0,r=0;switch(e){case s.up:r=-1;break;case s.down:r=1;break;case s.right:n=1;break;case s.left:n=-1}for(var l=this.getRealCol(),c=this.getRealRow(),u=l,h=c,d=null,f=0;f<o.lookRange&&(u+=n,h+=r,null!=(d=t.grid_map.cellAt(u,h)));f++)if((d.owner!==this.org||!o.seeThroughSelf)&&d.state!==i.empty){var p=Math.abs(l-u)+Math.abs(c-h);return new a(d,p,e)}return new a(d,o.lookRange,e)}}},490:(t,e,n)=>{const i=n(96),r=n(110),o=n(418);t.exports=class extends r{constructor(t,e,n){super(i.killer,t,e,n)}performFunction(){var t=this.org.env,e=this.getRealCol(),n=this.getRealRow();for(var i of o.killableNeighbors){var r=t.grid_map.cellAt(e+i[0],n+i[1]);this.killNeighbor(r)}}killNeighbor(t){if(null!=t&&null!=t.owner&&t.owner!=this.org&&t.owner.living&&t.state!=i.armor){var e=t.state==i.killer;t.owner.harm(),o.instaKill&&e&&this.org.harm()}}}},140:(t,e,n)=>{const i=n(96),r=n(110),o=n(418);t.exports=class extends r{constructor(t,e,n){super(i.mouth,t,e,n)}performFunction(){var t=this.org.env,e=this.getRealCol(),n=this.getRealRow();for(var i of o.edibleNeighbors){var r=t.grid_map.cellAt(e+i[0],n+i[1]);this.eatNeighbor(r,t)}}eatNeighbor(t,e){null!=t&&t.state==i.food&&(e.changeCell(t.col,t.row,i.empty,null),this.org.food_collected++)}}},289:(t,e,n)=>{const i=n(96),r=n(110);t.exports=class extends r{constructor(t,e,n){super(i.mover,t,e,n),this.org.anatomy.is_mover=!0}}},209:(t,e,n)=>{const i=n(96),r=n(110),o=n(418);t.exports=class extends r{constructor(t,e,n){super(i.producer,t,e,n),this.org.anatomy.is_producer=!0}performFunction(){if(!this.org.anatomy.is_mover||o.moversCanProduce){var t=this.org.env,e=o.foodProdProb,n=this.getRealCol(),r=this.getRealRow();if(100*Math.random()<=e){var s=o.growableNeighbors[Math.floor(Math.random()*o.growableNeighbors.length)],a=s[0],l=s[1],c=t.grid_map.cellAt(n+a,r+l);if(null!=c&&c.state==i.empty)return void t.changeCell(n+a,r+l,i.food,null)}}}}},96:t=>{class e{constructor(t){this.name=t,this.color="black"}render(t,e,n){t.fillStyle=this.color,t.fillRect(e.x,e.y,n,n)}}const n={empty:new class extends e{constructor(){super("empty")}},food:new class extends e{constructor(){super("food")}},wall:new class extends e{constructor(){super("wall")}},mouth:new class extends e{constructor(){super("mouth")}},producer:new class extends e{constructor(){super("producer")}},mover:new class extends e{constructor(){super("mover")}},killer:new class extends e{constructor(){super("killer")}},armor:new class extends e{constructor(){super("armor")}},eye:new class extends e{constructor(){super("eye"),this.slit_color="black"}render(t,e,n){if(t.fillStyle=this.color,t.fillRect(e.x,e.y,n,n),1!=n){var i=n/2,r=-n/8,o=-i,s=n/2+n/4,a=n/4;t.translate(e.x+i,e.y+i),t.rotate(90*e.cell_owner.getAbsoluteDirection()*Math.PI/180),t.fillStyle=this.slit_color,t.fillRect(r,o,a,s),t.setTransform(1,0,0,1,0,0)}}},defineLists(){this.all=[this.empty,this.food,this.wall,this.mouth,this.producer,this.mover,this.killer,this.armor,this.eye],this.living=[this.mouth,this.producer,this.mover,this.killer,this.armor,this.eye]},getRandomName:function(){return this.all[Math.floor(Math.random()*this.all.length)].name},getRandomLivingType:function(){return this.living[Math.floor(Math.random()*this.living.length)]}};n.defineLists(),t.exports=n},632:(t,e,n)=>{n(96),n(418),t.exports=class{constructor(t,e,n,i,r){this.owner=null,this.cell_owner=null,this.setType(t),this.col=e,this.row=n,this.x=i,this.y=r}setType(t){this.state=t}}},261:t=>{const e={up:0,right:1,down:2,left:3,scalars:[[0,-1],[1,0],[0,1],[-1,0]],getRandomDirection:function(){return Math.floor(4*Math.random())},getRandomScalar:function(){return this.scalars[Math.floor(Math.random()*this.scalars.length)]},getOppositeDirection:function(t){switch(t){case this.up:return this.down;case this.down:return this.up;case this.left:return this.right;case this.right:return this.left}},rotateRight:function(t){return++t>3&&(t=0),t}};t.exports=e},527:(t,e,n)=>{const i=n(96),r=n(201),o=n(418),s=n(261),a=n(179),l=n(886),c=n(379),u=n(862),h=n(652);class d{constructor(t,e,n,i=null){this.c=t,this.r=e,this.env=n,this.lifetime=0,this.food_collected=0,this.living=!0,this.anatomy=new a(this),this.direction=s.down,this.rotation=s.up,this.can_rotate=o.rotationEnabled,this.move_count=0,this.move_range=4,this.ignore_brain_for=0,this.mutability=5,this.damage=0,this.brain=new l(this),null!=i&&this.inherit(i)}inherit(t){for(var e of(this.move_range=t.move_range,this.mutability=t.mutability,this.species=t.species,t.anatomy.cells))this.anatomy.addInheritCell(e);t.anatomy.is_mover&&t.anatomy.has_eyes&&this.brain.copy(t.brain)}foodNeeded(){return this.anatomy.is_mover?this.anatomy.cells.length+o.extraMoverFoodCost:this.anatomy.cells.length}lifespan(){return this.anatomy.cells.length*o.lifespanMultiplier}maxHealth(){return this.anatomy.cells.length}reproduce(){var t=new d(0,0,this.env,this);o.rotationEnabled&&(t.rotation=s.getRandomDirection());var e=this.mutability;o.useGlobalMutability?e=o.globalMutability:Math.random()<=.5?t.mutability++:(t.mutability--,t.mutability<1&&(t.mutability=1));var n=!1;100*Math.random()<=e&&(t.anatomy.is_mover&&100*Math.random()<=10?(t.anatomy.has_eyes&&t.brain.mutate(),t.move_range+=Math.floor(4*Math.random())-2,t.move_range<=0&&(t.move_range=1)):n=t.mutate());var i=s.getRandomScalar(),r=i[0],a=i[1],l=Math.floor(3*Math.random()),u=this.anatomy.birth_distance,f=this.c+r*u+r*l,p=this.r+a*u+a*l;t.isClear(f,p,t.rotation,!0)&&t.isStraightPath(f,p,this.c,this.r,this)&&this.env.canAddOrganism()&&(t.c=f,t.r=p,this.env.addOrganism(t),t.updateGrid(),n?c.addSpecies(t,this.species):(t.species.addPop(),h.incrementPopulation(t.species.name))),Math.max(this.food_collected-=this.foodNeeded(),0)}mutate(){let t=!1,e=!1,n=!1;if(this.calcRandomChance(o.addProb)){let e=this.anatomy.getRandomCell(),n=i.getRandomLivingType(),o=r.all[Math.floor(Math.random()*r.all.length)],s=e.loc_col+o[0],a=e.loc_row+o[1];this.anatomy.canAddCellAt(s,a)&&(t=!0,this.anatomy.addRandomizedCell(n,s,a))}if(this.calcRandomChance(o.changeProb)){let t=this.anatomy.getRandomCell(),n=i.getRandomLivingType();this.anatomy.replaceCell(n,t.loc_col,t.loc_row),e=!0}if(this.calcRandomChance(o.removeProb)&&this.anatomy.cells.length>1){let t=this.anatomy.getRandomCell();n=this.anatomy.removeCell(t.loc_col,t.loc_row)}return t||e||n}calcRandomChance(t){return 100*Math.random()<t}attemptMove(){var t=s.scalars[this.direction],e=t[0],n=t[1],r=this.c+e,o=this.r+n;if(this.isClear(r,o)){for(var a of this.anatomy.cells){var l=this.c+a.rotatedCol(this.rotation),c=this.r+a.rotatedRow(this.rotation);this.env.changeCell(l,c,i.empty,null)}return this.c=r,this.r=o,this.updateGrid(),!0}return!1}attemptRotate(){if(!this.can_rotate)return this.direction=s.getRandomDirection(),this.move_count=0,!0;var t=s.getRandomDirection();if(this.isClear(this.c,this.r,t)){for(var e of this.anatomy.cells){var n=this.c+e.rotatedCol(this.rotation),r=this.r+e.rotatedRow(this.rotation);this.env.changeCell(n,r,i.empty,null)}return this.rotation=t,this.direction=s.getRandomDirection(),this.updateGrid(),this.move_count=0,!0}return!1}changeDirection(t){this.direction=t,this.move_count=0}isStraightPath(t,e,n,i,r){if(t==n){if(e>i){var o=i;i=e,e=o}for(var s=e;s!=i;s++){var a=this.env.grid_map.cellAt(t,s);if(!this.isPassableCell(a,r))return!1}return!0}for(t>n&&(o=n,n=t,t=o),s=t;s!=n;s++)if(a=this.env.grid_map.cellAt(s,e),!this.isPassableCell(a,r))return!1;return!0}isPassableCell(t,e){return null!=t&&(t.state==i.empty||t.owner==this||t.owner==e||t.state==i.food)}isClear(t,e,n=this.rotation){for(var r of this.anatomy.cells){var s=this.getRealCell(r,t,e,n);if(null==s)return!1;if(s.owner!=this&&s.state!=i.empty&&(o.foodBlocksReproduction||s.state!=i.food))return!1}return!0}harm(){this.damage++,(this.damage>=this.maxHealth()||o.instaKill)&&this.die()}die(){for(var t of this.anatomy.cells){var e=this.c+t.rotatedCol(this.rotation),n=this.r+t.rotatedRow(this.rotation);this.env.changeCell(e,n,i.food,null)}this.species.decreasePop(),this.living=!1}updateGrid(){for(var t of this.anatomy.cells){var e=this.c+t.rotatedCol(this.rotation),n=this.r+t.rotatedRow(this.rotation);this.env.changeCell(e,n,t.state,t)}}update(){if(this.lifetime++,this.lifetime>this.lifespan())return this.die(),this.living;for(var t of(this.food_collected>=this.foodNeeded()&&this.reproduce(),this.anatomy.cells))if(t.performFunction(),!this.living)return this.living;if(this.anatomy.is_mover){this.move_count++;var e=!1;0==this.ignore_brain_for?e=this.brain.decide():this.ignore_brain_for--;var n=this.attemptMove();(this.move_count>this.move_range&&!e||!n)&&(this.attemptRotate()||(this.changeDirection(s.getRandomDirection()),e&&(this.ignore_brain_for=this.move_range+1)))}return this.living}getRealCell(t,e=this.c,n=this.r,i=this.rotation){var r=e+t.rotatedCol(i),o=n+t.rotatedRow(i);return this.env.grid_map.cellAt(r,o)}isNatural(){let t=!1;if(0===this.anatomy.cells.length)return!1;for(let e=0;e<this.anatomy.cells.length;e++){let n=this.anatomy.cells[e];for(let t=e+1;t<this.anatomy.cells.length;t++){let e=this.anatomy.cells[t];if(n.loc_col===e.loc_col&&n.loc_row===e.loc_row)return!1}0===n.loc_col&&0===n.loc_row&&(t=!0)}return t}serialize(){let t=u.copyNonObjects(this);return t.anatomy=this.anatomy.serialize(),this.anatomy.is_mover&&this.anatomy.has_eyes&&(t.brain=this.brain.serialize()),t.species_name=this.species.name,t}loadRaw(t){u.overwriteNonObjects(t,this),this.anatomy.loadRaw(t.anatomy),t.brain&&this.brain.copy(t.brain)}}t.exports=d},886:(t,e,n)=>{const i=n(418),r=n(261),o=n(96),s={neutral:0,retreat:1,chase:2,getRandom:function(){return Math.floor(3*Math.random())},getRandomNonNeutral:function(){return Math.floor(2*Math.random())+1}};class a{constructor(t){this.owner=t,this.observations=[],this.decisions={};for(let t of o.all)this.decisions[t.name]=s.neutral;this.decisions[o.food.name]=s.chase,this.decisions[o.killer.name]=s.retreat}copy(t){for(let e in t.decisions)this.decisions[e]=t.decisions[e]}randomizeDecisions(t=!1){t&&(this.decisions[o.food.name]=s.getRandom(),this.decisions[o.killer.name]=s.getRandom()),this.decisions[o.mouth.name]=s.getRandom(),this.decisions[o.producer.name]=s.getRandom(),this.decisions[o.mover.name]=s.getRandom(),this.decisions[o.armor.name]=s.getRandom(),this.decisions[o.eye.name]=s.getRandom()}observe(t){this.observations.push(t)}decide(){var t=s.neutral,e=i.lookRange+1,n=0;for(var o of this.observations)null!=o.cell&&o.cell.owner!=this.owner&&o.distance<e&&(t=this.decisions[o.cell.state.name],n=o.direction,e=o.distance);return this.observations=[],t==s.chase?(this.owner.changeDirection(n),!0):t==s.retreat&&(this.owner.changeDirection(r.getOppositeDirection(n)),!0)}mutate(){this.decisions[o.getRandomName()]=s.getRandom(),this.decisions[o.empty.name]=s.neutral}serialize(){return{decisions:this.decisions}}}a.Decision=s,t.exports=a},463:t=>{t.exports=class{constructor(t,e,n){this.cell=t,this.distance=e,this.direction=n}}},734:(t,e,n)=>{const i=n(96),r=n(527);n(886);class o{static generate(t){var e=t.grid_map.getCenter(),n=new r(e[0],e[1],t,null);n.anatomy.addDefaultCell(i.mouth,0,0);for(var s,a,l=o.organismLayers,c=1;c<=l;c++){var u=!1,h=1*o.cellSpawnChance-(c-1)/l;for(a=-c,s=-c;s<=c;s++)u=o.trySpawnCell(n,s,a,h);for(a=c,s=-c;s<=c;s++)u=o.trySpawnCell(n,s,a,h);for(s=-c,a=1-c;a<=c-1;a++)u=o.trySpawnCell(n,s,a,h);for(s=c,a=1-c;a<c-1;a++)u=o.trySpawnCell(n,s,a,h);if(!u)break}return n.brain.randomizeDecisions(!0),n}static trySpawnCell(t,e,n,r){return!!(t.anatomy.getNeighborsOfCell(e,n).length&&Math.random()<r)&&(t.anatomy.addRandomizedCell(i.getRandomLivingType(),e,n),!0)}}o.organismLayers=4,o.cellSpawnChance=.75,t.exports=o},273:(t,e,n)=>{var i=n(755);const r=n(96);var o={empty:"#0E1318",food:"#2F7AB7",wall:"gray",mouth:"#DEB14D",producer:"#15DE59",mover:"#60D4FF",killer:"#F82380",armor:"#7230DB",eye:"#B6C1EA","eye-slit":"#0E1318"};t.exports=class{constructor(t,e){this.world_env=t,this.editor_env=e}loadColorScheme(){for(var t of r.all)t.color=o[t.name];for(var e in r.eye.slit_color=o["eye-slit"],o)i("#"+e+".cell-type ").css("background-color",o[e]),i("#"+e+".cell-legend-type").css("background-color",o[e]);this.world_env.renderer.renderFullGrid(this.world_env.grid_map.grid),this.editor_env.renderer.renderFullGrid(this.editor_env.grid_map.grid)}}},200:(t,e,n)=>{var i=n(755);n(96),n(261),t.exports=class{constructor(t,e,n){this.cell_size=n,this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.fillWindow(e),this.height=this.canvas.height,this.width=this.canvas.width,this.cells_to_render=new Set,this.cells_to_highlight=new Set,this.highlighted_cells=new Set}fillWindow(t){this.fillShape(i("#"+t).height(),i("#"+t).width())}fillShape(t,e){this.canvas.width=e,this.canvas.height=t,this.height=this.canvas.height,this.width=this.canvas.width}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.height,this.width)}renderFullGrid(t){for(var e of t)for(var n of e)this.renderCell(n)}renderCells(){for(var t of this.cells_to_render)this.renderCell(t);this.cells_to_render.clear()}renderCell(t){t.state.render(this.ctx,t,this.cell_size)}renderOrganism(t){for(var e of t.anatomy.cells){var n=t.getRealCell(e);this.renderCell(n)}}addToRender(t){this.highlighted_cells.has(t)&&this.cells_to_highlight.add(t),this.cells_to_render.add(t)}renderHighlights(){for(var t of this.cells_to_highlight)this.renderCellHighlight(t),this.highlighted_cells.add(t);this.cells_to_highlight.clear()}highlightOrganism(t){for(var e of t.anatomy.cells){var n=t.getRealCell(e);this.cells_to_highlight.add(n)}}highlightCell(t){this.cells_to_highlight.add(t)}renderCellHighlight(t,e="yellow"){this.renderCell(t),this.ctx.fillStyle=e,this.ctx.globalAlpha=.5,this.ctx.fillRect(t.x,t.y,this.cell_size,this.cell_size),this.ctx.globalAlpha=1,this.highlighted_cells.add(t)}clearAllHighlights(t=!1){for(var e of this.highlighted_cells)this.renderCell(e);this.highlighted_cells.clear(),t&&this.cells_to_highlight.clear()}}},513:(t,e,n)=>{const i=n(96),r=n(379),o=n(699);t.exports=class extends o{constructor(){super("Organism Size / Composition","Avg. Number of Cells per Organism","Note: to maintain efficiency, species with very small populations are discarded when collecting cell statistics.")}setData(){for(var t of(this.clear(),this.data.push({type:"line",markerType:"none",color:"black",showInLegend:!0,name:"pop1",legendText:"Avg. organism size",dataPoints:[]}),i.living))this.data.push({type:"line",markerType:"none",color:t.color,showInLegend:!0,name:t.name,legendText:"Avg. "+t.name+" cells",dataPoints:[]});this.addAllDataPoints()}addDataPoint(t){var e=r.tick_record[t],n=r.av_cells[t];this.data[0].dataPoints.push({x:e,y:n});var i=1;for(var o in r.av_cell_counts[t]){var s=r.av_cell_counts[t][o];this.data[i].dataPoints.push({x:e,y:s}),i++}}}},699:(t,e,n)=>{var i=n(755);const r=n(379);t.exports=class{constructor(t,e="",n=""){this.data=[],this.chart=new CanvasJS.Chart("chartContainer",{zoomEnabled:!0,title:{text:t},axisX:{title:"Ticks",minimum:0},axisY:{title:e,minimum:0},data:this.data}),this.chart.render(),i("#chart-note").text(n)}setData(){alert("Must override updateData!")}setMinimum(){var t=0;this.data[0].dataPoints!=[]&&(t=this.data[0].dataPoints[0].x),this.chart.options.axisX.minimum=t}addAllDataPoints(){for(var t in r.tick_record)this.addDataPoint(t)}render(){this.setMinimum(),this.chart.render()}updateData(){let t=r.tick_record.length,e=this.data[0].dataPoints,n=-1;e.length>0&&(n=this.data[0].dataPoints[e.length-1].x);let i=0,o=r.tick_record[t-1];for(;o!==n;)i++,o=r.tick_record[t-i-1];for(this.addNewest(i);e.length>r.tick_record.length;)this.removeOldest()}addNewest(t){for(let e=t;e>0;e--){let t=r.tick_record.length-e;this.addDataPoint(t)}}removeOldest(){for(var t of this.data)t.dataPoints.shift()}addDataPoint(t){alert("Must override addDataPoint")}clear(){this.data.length=0,this.chart.render()}}},81:(t,e,n)=>{const i=n(379),r=n(699);t.exports=class extends r{constructor(){super("Mutation Rate")}setData(){this.clear(),this.data.push({type:"line",markerType:"none",color:"black",showInLegend:!0,name:"pop1",legendText:"Average Mutation Rate",dataPoints:[]}),this.addAllDataPoints()}addDataPoint(t){var e=i.tick_record[t],n=i.av_mut_rates[t];this.data[0].dataPoints.push({x:e,y:n})}}},13:(t,e,n)=>{const i=n(379),r=n(699);t.exports=class extends r{constructor(){super("Population")}setData(){this.clear(),this.data.push({type:"line",markerType:"none",color:"black",showInLegend:!0,name:"pop1",legendText:"Total Population",dataPoints:[]}),this.addAllDataPoints()}addDataPoint(t){var e=i.tick_record[t],n=i.pop_counts[t];this.data[0].dataPoints.push({x:e,y:n})}}},804:(t,e,n)=>{const i=n(379),r=n(699);t.exports=class extends r{constructor(){super("Population at Log Scale")}setData(){this.clear(),this.data.push({type:"line",markerType:"none",color:"black",showInLegend:!0,name:"pop1",legendText:"Total Population Log",dataPoints:[]}),this.addAllDataPoints()}addDataPoint(t){var e=i.tick_record[t],n=i.pop_counts[t];this.data[0].dataPoints.push({x:e,y:Math.log10(n)})}}},196:(t,e,n)=>{const i=n(379),r=n(699);t.exports=class extends r{constructor(){super("Species")}setData(){this.clear(),this.data.push({type:"line",markerType:"none",color:"black",showInLegend:!0,name:"spec",legendText:"Number of Species",dataPoints:[]}),this.addAllDataPoints()}addDataPoint(t){var e=i.tick_record[t],n=i.species_counts[t];this.data[0].dataPoints.push({x:e,y:n})}}},379:(t,e,n)=>{const i=n(96),r=n(862),o=n(653),s=n(652),a={init:function(){this.extant_species={},this.extinct_species={},this.min_discard=1,this.record_size_limit=5e6},setEnv:function(t){this.env=t,this.setData()},addSpecies:function(t,e){var n=new o(t.anatomy,e,this.env.total_ticks);if(this.extant_species[n.name]=n,t.species=n,e){const n={name:t.species.name,parent:e.name,anatomy:t.anatomy,the_org:t,children:[]};s.updateTree(n),s.incrementPopulation(t.species.name)}else{console.log("new tree!");let e={name:t.species.name,anatomy:t.anatomy,the_org:t,children:[]};s.incrementPopulation(t.species.name),s.renderTree(e)}return n},addSpeciesObj:function(t){if(console.log("Is this hit??"),!this.extant_species[t.name])return this.extant_species[t.name]=t,t;console.warn("Tried to add already existing species. Add failed.")},changeSpeciesName:function(t,e){this.extant_species[e]?console.warn("Tried to change species name to an existing species name. Change failed."):(delete this.extant_species[t.name],t.name=e,this.extant_species[e]=t)},numExtantSpecies(){return Object.values(this.extant_species).length},numExtinctSpecies(){return Object.values(this.extinct_species).length},speciesIsExtant(t){return!!this.extant_species[t]},fossilize:function(t){return this.extant_species[t.name]?(t.end_tick=this.env.total_ticks,t.ancestor=void 0,delete this.extant_species[t.name],t.cumulative_pop>=this.min_discard&&(s.markSpeciesExtinct(t.name),!0)):(console.warn("Tried to fossilize non existing species."),!1)},resurrect:function(t){t.extinct&&(t.extinct=!1,this.extant_species[t.name]=t,delete this.extinct_species[t.name])},setData(){this.tick_record=[],this.pop_counts=[],this.species_counts=[],this.av_mut_rates=[],this.av_cells=[],this.av_cell_counts=[],this.updateData()},updateData(){var t=this.env.total_ticks;for(this.tick_record.push(t),this.pop_counts.push(this.env.organisms.length),this.species_counts.push(this.numExtantSpecies()),this.av_mut_rates.push(this.env.averageMutability()),this.calcCellCountAverages();this.tick_record.length>this.record_size_limit;)this.tick_record.shift(),this.pop_counts.shift(),this.species_counts.shift(),this.av_mut_rates.shift(),this.av_cells.shift(),this.av_cell_counts.shift()},calcCellCountAverages(){var t=0,e={};for(let t of i.living)e[t.name]=0;var n=!0;for(let i of Object.values(this.extant_species))if(!(!n&&this.numExtantSpecies()>10&&i.cumulative_pop<this.min_discard)){for(let t in i.cell_counts)e[t]+=i.cell_counts[t]*i.population;t+=i.population,n=!1}if(0==t)return this.av_cells.push(0),void this.av_cell_counts.push(e);var r=0;for(let n in e)r+=e[n],e[n]/=t;this.av_cells.push(r/t),this.av_cell_counts.push(e)},getMostPopulousSpecies(){var t=0,e=void 0;for(let n of Object.values(this.extant_species))n.population>t&&(t=n.population,e=n);return e},clear_record(){console.log("USe this"),s.clearTree(),this.extant_species=[],this.extinct_species=[],this.setData()},serialize(){this.updateData();let t=r.copyNonObjects(this);t.records={tick_record:this.tick_record,pop_counts:this.pop_counts,species_counts:this.species_counts,av_mut_rates:this.av_mut_rates,av_cells:this.av_cells,av_cell_counts:this.av_cell_counts};let e={};for(let t of Object.values(this.extant_species))e[t.name]=r.copyNonObjects(t),delete e[t.name].name;return t.species=e,t},getFossilRecordTree:()=>({name:"Life",children:[{name:"Poops",children:[{name:"PeePee"},{name:"Whaaa"}]},{name:"Plants",children:[{name:"Ferns"},{name:"Mosses"}]}]}),loadRaw(t){r.overwriteNonObjects(t,this);for(let e in t.records)this[e]=t.records[e]}};a.init(),t.exports=a},653:(t,e,n)=>{const i=n(96);let r;t.exports=class{constructor(t,e,n){this.anatomy=t,this.ancestor=e,this.population=1,this.cumulative_pop=1,this.start_tick=n,this.end_tick=-1,this.name=Math.random().toString(36).substr(2,10),this.extinct=!1,this.calcAnatomyDetails()}calcAnatomyDetails(){if(this.anatomy){var t={};for(let e of i.living)t[e.name]=0;for(let e of this.anatomy.cells)t[e.state.name]+=1;this.cell_counts=t}}addPop(){this.population++,this.cumulative_pop++}decreasePop(){this.population--,this.population<=0&&(this.extinct=!0,(r||(r=n(379)),r).fossilize(this))}lifespan(){return this.end_tick-this.start_tick}}},967:(t,e,n)=>{var i=n(755);const r=n(13),o=n(804),s=n(196),a=n(81),l=n(513),c=n(379),u=(n(652),[r,o,s,l,a]);t.exports=class{constructor(t){this.defineControls(),this.chart_selection=0,this.setChart(),this.env=t,this.last_reset_count=t.reset_count}setChart(t=this.chart_selection){this.chart_controller=new u[t],this.chart_controller.setData(),this.chart_controller.render()}startAutoRender(){this.setChart(),this.render_loop=setInterval(function(){this.updateChart()}.bind(this),1e3)}stopAutoRender(){clearInterval(this.render_loop)}defineControls(){i("#chart-option").change(function(){this.chart_selection=i("#chart-option")[0].selectedIndex,this.setChart()}.bind(this))}updateChart(){this.last_reset_count<this.env.reset_count&&this.reset(),this.last_reset_count=this.env.reset_count,this.chart_controller.updateData(),this.chart_controller.render()}updateDetails(){var t=this.env.organisms.length;i("#org-count").text("Total Population: "+t),i("#species-count").text("Number of Species: "+c.numExtantSpecies());let e=c.getMostPopulousSpecies();e?i("#top-species").text('Most Populous Species: "'+e.name+'" ('+e.population+" organisms)"):i("#top-species").text("Most Populous Species: None"),i("#largest-org").text("Largest Organism Ever: "+this.env.largest_cell_count+" cells"),i("#avg-mut").text("Average Mutation Rate: "+Math.round(100*this.env.averageMutability())/100)}reset(){this.setChart()}}},652:(t,e,n)=>{"use strict";function i(){}function r(t){return null==t?i:function(){return this.querySelector(t)}}function o(){return[]}function s(t){return null==t?o:function(){return this.querySelectorAll(t)}}function a(t){return function(){return this.matches(t)}}function l(t){return function(e){return e.matches(t)}}n.r(e),n.d(e,{clearTree:()=>Pi,disableRendering:()=>Di,getAnatomy:()=>Ci,incrementPopulation:()=>Ai,markSpeciesExtinct:()=>Si,multiplyPopulationThreshold:()=>_i,renderTree:()=>Mi,searchForNodeByName:()=>bi,setPopulationThreshold:()=>yi,setShowExtinctLeaves:()=>xi,showAnatomyTooltip:()=>Ti,updateTree:()=>Ei});var c=Array.prototype.find;function u(){return this.firstElementChild}var h=Array.prototype.filter;function d(){return Array.from(this.children)}function f(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function m(t,e,n,i,r,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new p(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function g(t,e,n,i,r,o,s){var a,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c=s.call(l,l.__data__,a,e)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(t,o[a],a,o)+"",(l=u.get(c))?(i[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new p(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(r[a]=l)}function v(t){return t.__data__}function y(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function _(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b="http://www.w3.org/1999/xhtml";const w={svg:"http://www.w3.org/2000/svg",xhtml:b,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),w.hasOwnProperty(e)?{space:w[e],local:t}:t}function k(t){return function(){this.removeAttribute(t)}}function C(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T(t,e){return function(){this.setAttribute(t,e)}}function M(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function S(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D(t){return function(){this.style.removeProperty(t)}}function P(t,e,n){return function(){this.style.setProperty(t,e,n)}}function N(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function R(t,e){return t.style.getPropertyValue(e)||S(t).getComputedStyle(t,null).getPropertyValue(e)}function O(t){return function(){delete this[t]}}function j(t,e){return function(){this[t]=e}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function z(t){return t.trim().split(/^|\s+/)}function $(t){return t.classList||new I(t)}function I(t){this._node=t,this._names=z(t.getAttribute("class")||"")}function q(t,e){for(var n=$(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function H(t,e){for(var n=$(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function F(t){return function(){q(this,t)}}function B(t){return function(){H(this,t)}}function W(t,e){return function(){(e.apply(this,arguments)?q:H)(this,t)}}function X(){this.textContent=""}function U(t){return function(){this.textContent=t}}function V(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function G(){this.innerHTML=""}function Y(t){return function(){this.innerHTML=t}}function J(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===b&&e.documentElement.namespaceURI===b?e.createElement(t):e.createElementNS(n,t)}}function tt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function et(t){var e=x(t);return(e.local?tt:Z)(e)}function nt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function rt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ot(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function st(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function at(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function lt(t,e,n){var i=S(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ct(t,e){return function(){return lt(this,t,e)}}function ut(t,e){return function(){return lt(this,t,e.apply(this,arguments))}}I.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ht=[null];function dt(t,e){this._groups=t,this._parents=e}function ft(){return new dt([[document.documentElement]],ht)}dt.prototype=ft.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=r(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s,a,l=e[o],c=l.length,u=i[o]=new Array(c),h=0;h<c;++h)(s=l[h])&&(a=t.call(s,s.__data__,h,l))&&("__data__"in s&&(a.__data__=s.__data__),u[h]=a);return new dt(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):s(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,l=e[o],c=l.length,u=0;u<c;++u)(a=l[u])&&(i.push(t.call(a,a.__data__,u,l)),r.push(a));return new dt(i,r)},selectChild:function(t){return this.select(null==t?u:function(t){return function(){return c.call(this.children,t)}}("function"==typeof t?t:l(t)))},selectChildren:function(t){return this.selectAll(null==t?d:function(t){return function(){return h.call(this.children,t)}}("function"==typeof t?t:l(t)))},filter:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],l=s.length,c=i[r]=[],u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new dt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,v);var n,i=e?g:m,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=r[u],d=o[u],f=d.length,p=y(t.call(h,h&&h.__data__,u,r)),_=p.length,b=l[u]=new Array(_),w=a[u]=new Array(_);i(h,d,b,w,c[u]=new Array(f),p,e);for(var x,k,C=0,T=0;C<_;++C)if(x=b[C]){for(C>=T&&(T=C+1);!(k=w[T])&&++T<_;);x._next=k||null}}return(a=new dt(a,r))._enter=l,a._exit=c,a},enter:function(){return new dt(this._enter||this._groups.map(f),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(f),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)a[l]=n[l];return new dt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new dt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=x(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?C:k:"function"==typeof e?n.local?A:E:n.local?M:T)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?D:"function"==typeof e?N:P)(t,e,null==n?"":n)):R(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?O:"function"==typeof e?L:j)(t,e)):this.node()[t]},classed:function(t,e){var n=z(t+"");if(arguments.length<2){for(var i=$(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?W:e?F:B)(n,e))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?V:U)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?G:("function"==typeof t?J:Y)(t)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(Q)},append:function(t){var e="function"==typeof t?t:et(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:et(t),i=null==e?nt:"function"==typeof e?e:r(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?ot:rt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?at:st,i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ut:ct)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};const pt=ft;var mt={value:()=>{}};function gt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new vt(i)}function vt(t){this._=t}function yt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function _t(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=mt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}vt.prototype=gt.prototype={constructor:vt,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)r[n]=_t(r[n],t.name,e);else if(null==e)for(n in r)r[n]=_t(r[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=yt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};const bt=gt;var wt,xt,kt=0,Ct=0,Tt=0,Mt=1e3,Et=0,At=0,St=0,Dt="object"==typeof performance&&performance.now?performance:Date,Pt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nt(){return At||(Pt(Rt),At=Dt.now()+St)}function Rt(){At=0}function Ot(){this._call=this._time=this._next=null}function jt(t,e,n){var i=new Ot;return i.restart(t,e,n),i}function Lt(){At=(Et=Dt.now())+St,kt=Ct=0;try{!function(){Nt(),++kt;for(var t,e=wt;e;)(t=At-e._time)>=0&&e._call.call(void 0,t),e=e._next;--kt}()}finally{kt=0,function(){for(var t,e,n=wt,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:wt=e);xt=t,$t(i)}(),At=0}}function zt(){var t=Dt.now(),e=t-Et;e>Mt&&(St-=e,Et=t)}function $t(t){kt||(Ct&&(Ct=clearTimeout(Ct)),t-At>24?(t<1/0&&(Ct=setTimeout(Lt,t-Dt.now()-St)),Tt&&(Tt=clearInterval(Tt))):(Tt||(Et=Dt.now(),Tt=setInterval(zt,Mt)),kt=1,Pt(Lt)))}function It(t,e,n){var i=new Ot;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Ot.prototype=jt.prototype={constructor:Ot,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Nt():+n)+(null==e?0:+e),this._next||xt===this||(xt?xt._next=this:wt=this,xt=this),this._call=t,this._time=n,$t()},stop:function(){this._call&&(this._call=null,this._time=1/0,$t())}};var qt=bt("start","end","cancel","interrupt"),Ht=[],Ft=0,Bt=2,Wt=3,Xt=5,Ut=6;function Vt(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(d.state===Wt)return It(o);4===d.state?(d.state=Ut,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Ut,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(It((function(){n.state===Wt&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=Bt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bt){for(n.state=Wt,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Xt,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);n.state===Xt&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=Ut,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=jt((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:qt,tween:Ht,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ft})}function Gt(t,e){var n=Jt(t,e);if(n.state>Ft)throw new Error("too late; already scheduled");return n}function Yt(t,e){var n=Jt(t,e);if(n.state>Wt)throw new Error("too late; already running");return n}function Jt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kt(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Bt&&n.state<Xt,n.state=Ut,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function Qt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Zt,te=180/Math.PI,ee={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ne(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*te,skewX:Math.atan(l)*te,scaleX:s,scaleY:a}}function ie(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Qt(t,r)},{i:l-2,x:Qt(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Qt(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Qt(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,l),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Qt(t,n)},{i:a-2,x:Qt(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var re=ie((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ee:ne(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),oe=ie((function(t){return null==t?ee:(Zt||(Zt=document.createElementNS("http://www.w3.org/2000/svg","g")),Zt.setAttribute("transform",t),(t=Zt.transform.baseVal.consolidate())?ne((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ee)}),", ",")",")");function se(t,e){var n,i;return function(){var r=Yt(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function ae(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Yt(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function le(t,e,n){var i=t._id;return t.each((function(){var t=Yt(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Jt(t,i).value[e]}}function ce(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ue(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function he(){}var de=.7,fe=1/de,pe="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,ye=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),_e=new RegExp(`^rgb\\(${ge},${ge},${ge}\\)$`),be=new RegExp(`^rgba\\(${pe},${pe},${pe},${me}\\)$`),we=new RegExp(`^rgba\\(${ge},${ge},${ge},${me}\\)$`),xe=new RegExp(`^hsl\\(${me},${ge},${ge}\\)$`),ke=new RegExp(`^hsla\\(${me},${ge},${ge},${me}\\)$`),Ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Te(){return this.rgb().formatHex()}function Me(){return this.rgb().formatRgb()}function Ee(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ae(e):3===n?new Pe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Se(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ye.exec(t))?new Pe(e[1],e[2],e[3],1):(e=_e.exec(t))?new Pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=be.exec(t))?Se(e[1],e[2],e[3],e[4]):(e=we.exec(t))?Se(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xe.exec(t))?ze(e[1],e[2]/100,e[3]/100,1):(e=ke.exec(t))?ze(e[1],e[2]/100,e[3]/100,e[4]):Ce.hasOwnProperty(t)?Ae(Ce[t]):"transparent"===t?new Pe(NaN,NaN,NaN,0):null}function Ae(t){return new Pe(t>>16&255,t>>8&255,255&t,1)}function Se(t,e,n,i){return i<=0&&(t=e=n=NaN),new Pe(t,e,n,i)}function De(t,e,n,i){return 1===arguments.length?((r=t)instanceof he||(r=Ee(r)),r?new Pe((r=r.rgb()).r,r.g,r.b,r.opacity):new Pe):new Pe(t,e,n,null==i?1:i);var r}function Pe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Ne(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}`}function Re(){const t=Oe(this.opacity);return`${1===t?"rgb(":"rgba("}${je(this.r)}, ${je(this.g)}, ${je(this.b)}${1===t?")":`, ${t})`}`}function Oe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function je(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Le(t){return((t=je(t))<16?"0":"")+t.toString(16)}function ze(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ie(t,e,n,i)}function $e(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);if(t instanceof he||(t=Ee(t)),!t)return new Ie;if(t instanceof Ie)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ie(s,a,l,t.opacity)}function Ie(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function qe(t){return(t=(t||0)%360)<0?t+360:t}function He(t){return Math.max(0,Math.min(1,t||0))}function Fe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Be(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}ce(he,Ee,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Te,formatHex:Te,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $e(this).formatHsl()},formatRgb:Me,toString:Me}),ce(Pe,De,ue(he,{brighter(t){return t=null==t?fe:Math.pow(fe,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?de:Math.pow(de,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pe(je(this.r),je(this.g),je(this.b),Oe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ne,formatHex:Ne,formatHex8:function(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}${Le(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Re,toString:Re})),ce(Ie,(function(t,e,n,i){return 1===arguments.length?$e(t):new Ie(t,e,n,null==i?1:i)}),ue(he,{brighter(t){return t=null==t?fe:Math.pow(fe,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?de:Math.pow(de,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Pe(Fe(t>=240?t-240:t+120,r,i),Fe(t,r,i),Fe(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Ie(qe(this.h),He(this.s),He(this.l),Oe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oe(this.opacity);return`${1===t?"hsl(":"hsla("}${qe(this.h)}, ${100*He(this.s)}%, ${100*He(this.l)}%${1===t?")":`, ${t})`}`}}));const We=t=>()=>t;function Xe(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):We(isNaN(t)?e:t)}const Ue=function t(e){var n=function(t){return 1==(t=+t)?Xe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):We(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=De(t)).r,(e=De(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=Xe(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function Ve(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=De(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}Ve((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return Be((n-i/e)*e,s,r,o,a)}})),Ve((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return Be((n-i/e)*e,r,o,s,a)}}));var Ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(Ge.source,"g");function Je(t,e){var n,i,r,o=Ge.lastIndex=Ye.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Ge.exec(t))&&(i=Ye.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Qt(n,i)})),o=Ye.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function Ke(t,e){var n;return("number"==typeof e?Qt:e instanceof Ee?Ue:(n=Ee(e))?(e=n,Ue):Je)(t,e)}function Qe(t){return function(){this.removeAttribute(t)}}function Ze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tn(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function en(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function nn(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttribute(t)}}function rn(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function on(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function sn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function an(t,e){return function(){Gt(this,t).delay=+e.apply(this,arguments)}}function ln(t,e){return e=+e,function(){Gt(this,t).delay=e}}function cn(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function un(t,e){return e=+e,function(){Yt(this,t).duration=e}}var hn=pt.prototype.constructor;function dn(t){return function(){this.style.removeProperty(t)}}var fn=0;function pn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function mn(){return++fn}var gn=pt.prototype;pn.prototype=function(t){return pt().transition(t)}.prototype={constructor:pn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=r(t));for(var i=this._groups,o=i.length,s=new Array(o),a=0;a<o;++a)for(var l,c,u=i[a],h=u.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=u[f])&&(c=t.call(l,l.__data__,f,u))&&("__data__"in l&&(c.__data__=l.__data__),d[f]=c,Vt(d[f],e,n,f,d,Jt(l,n)));return new pn(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=s(t));for(var i=this._groups,r=i.length,o=[],a=[],l=0;l<r;++l)for(var c,u=i[l],h=u.length,d=0;d<h;++d)if(c=u[d]){for(var f,p=t.call(c,c.__data__,d,u),m=Jt(c,n),g=0,v=p.length;g<v;++g)(f=p[g])&&Vt(f,e,n,g,p,m);o.push(p),a.push(c)}return new pn(o,a,e,n)},selectChild:gn.selectChild,selectChildren:gn.selectChildren,filter:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],l=s.length,c=i[r]=[],u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new pn(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=e[a];return new pn(s,this._parents,this._name,this._id)},selection:function(){return new hn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=mn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Jt(s,e);Vt(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new pn(i,this._parents,t,n)},call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:function(t,e){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Gt:Yt;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,e){var n=x(t),i="transform"===n?oe:Ke;return this.attrTween(t,"function"==typeof e?(n.local?rn:nn)(n,i,le(this,"attr."+t,e)):null==e?(n.local?Ze:Qe)(n):(n.local?en:tn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=x(t);return this.tween(n,(i.local?on:sn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?re:Ke;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=R(this,t),s=(this.style.removeProperty(t),R(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,dn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=R(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=R(this,t)),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}(t,i,le(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=Yt(this,t),c=l.on,u=null==l.value[s]?o||(o=dn(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=R(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(le(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Jt(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?se:ae)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?an:ln)(e,t)):Jt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?cn:un)(e,t)):Jt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Yt(this,t).ease=e}}(e,t)):Jt(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Yt(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=Yt(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:gn[Symbol.iterator]};var vn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function yn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}pt.prototype.interrupt=function(t){return this.each((function(){Kt(this,t)}))},pt.prototype.transition=function(t){var e,n;t instanceof pn?(e=t._id,t=t._name):(e=mn(),(n=vn).time=Nt(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Vt(s,t,e,c,a,n||yn(s,e));return new pn(i,this._parents,t,e)};const{abs:_n,max:bn,min:wn}=Math;function xn(t){return{type:t}}function kn(t,e){return t.parent===e.parent?1:2}function Cn(t,e){return t+e.x}function Tn(t,e){return Math.max(t,e.y)}function Mn(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function En(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Sn)):void 0===e&&(e=An);for(var n,i,r,o,s,a=new Nn(t),l=[a];n=l.pop();)if((r=e(n.data))&&(s=(r=Array.from(r)).length))for(n.children=r,o=s-1;o>=0;--o)l.push(i=r[o]=new Nn(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Pn)}function An(t){return t.children}function Sn(t){return Array.isArray(t)?t[1]:null}function Dn(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Pn(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Nn(t){this.data=t,this.depth=this.height=0,this.parent=null}function Rn(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],ht)}["w","e"].map(xn),["n","s"].map(xn),["n","w","e","s","nw","ne","sw","se"].map(xn),Nn.prototype=En.prototype={constructor:Nn,count:function(){return this.eachAfter(Mn)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i]);for(;o=a.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],s=-1;r=o.pop();)if(t.call(e,r,++s,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return En(this).eachBefore(Dn)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};var On=Array.prototype.slice;function jn(t){return function(){return t}}function Ln(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class zn{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Ln(this._x0,this._y0),i=Ln(this._x0,this._y0=(this._y0+e)/2),r=Ln(t,this._y0),o=Ln(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...r,...o)}this._x0=t,this._y0=e}}function $n(t){return new zn(t)}const In=Math.PI,qn=2*In,Hn=1e-6,Fn=qn-Hn;function Bn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Wn{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Bn:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Bn;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,o){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,s=this._y1,a=n-t,l=i-e,c=o-t,u=s-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Hn)if(Math.abs(u*a-l*c)>Hn&&r){let d=n-o,f=i-s,p=a*a+l*l,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((In-Math.acos((p+h-m)/(2*g*v)))/2),_=y/v,b=y/g;Math.abs(_-1)>Hn&&this._append`L${t+_*c},${e+_*u}`,this._append`A${r},${r},0,0,${+(u*d>c*f)},${this._x1=t+b*a},${this._y1=e+b*l}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),a=n*Math.sin(i),l=t+s,c=e+a,u=1^o,h=o?i-r:r-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Hn||Math.abs(this._y1-c)>Hn)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%qn+qn),h>Fn?this._append`A${n},${n},0,1,${u},${t-s},${e-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>Hn&&this._append`A${n},${n},0,${+(h>=In)},${u},${this._x1=t+n*Math.cos(r)},${this._y1=e+n*Math.sin(r)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Xn(t){return t[0]}function Un(t){return t[1]}function Vn(t){return t.source}function Gn(t){return t.target}Wn.prototype;const Yn={capture:!0,passive:!1};function Jn(t){t.preventDefault(),t.stopImmediatePropagation()}function Kn(t){return((t=Math.exp(t))+1/t)/2}const Qn=function t(e,n,i){function r(t,r){var o,s,a=t[0],l=t[1],c=t[2],u=r[0],h=r[1],d=r[2],f=u-a,p=h-l,m=f*f+p*p;if(m<1e-12)s=Math.log(d/c)/e,o=function(t){return[a+t*f,l+t*p,c*Math.exp(e*t*s)]};else{var g=Math.sqrt(m),v=(d*d-c*c+i*m)/(2*c*n*g),y=(d*d-c*c-i*m)/(2*d*n*g),_=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-_)/e,o=function(t){var i,r=t*s,o=Kn(_),u=c/(n*g)*(o*(i=e*r+_,((i=Math.exp(2*i))-1)/(i+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[a+u*f,l+u*p,c*o/Kn(e*r+_)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r}(Math.SQRT2,2,4);function Zn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const ti=t=>()=>t;function ei(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function ni(t,e,n){this.k=t,this.x=e,this.y=n}ni.prototype={constructor:ni,scale:function(t){return 1===t?this:new ni(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ni(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ii=new ni(1,0,0);function ri(t){t.stopImmediatePropagation()}function oi(t){t.preventDefault(),t.stopImmediatePropagation()}function si(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function ai(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function li(){return this.__zoom||ii}function ci(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ui(){return navigator.maxTouchPoints||"ontouchstart"in this}function hi(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}ni.prototype,n(179);let di={name:"Life",children:[]};const fi=new Map,pi=new Set;let mi=1,gi=!0,vi=!0;function yi(t){mi=t,di&&(Mi(di),document.getElementById("slider-value").textContent=mi)}function _i(t){console.log(t),yi(Math.ceil(t*mi))}function bi(t,e){if(t.name===e)return t;if(!t.children)return null;for(const n of t.children){const t=bi(n,e);if(t)return t}return null}function wi(t){return(fi.get(t.name)||0)+(t.children||[]).reduce(((t,e)=>t+wi(e)),0)}function xi(t){vi=t,Mi(di)}function ki(t){const e=wi(t);if(t.subtreePopulation=e,!vi&&!t.children&&pi.has(t.name))return null;if(e<mi)return null;const n=(t.children||[]).map(ki).filter(Boolean);return!vi&&0===n.length&&pi.has(t.name)?null:{...t,children:n}}function Ci(t){return bi(di,t).anatomy}function Ti(t,e){const n=Rn("#anatomy-tooltip");n.style("display","block").html("");const i=n.append("svg").attr("width",100).attr("height",100);e.cells.forEach((t=>{i.append("rect").attr("x",10*t.loc_col+10).attr("y",10*t.loc_row+10).attr("width",10).attr("height",10).attr("fill",t.state.color)}));const r=window.innerWidth,o=window.innerHeight;let s=t.pageX+10,a=t.pageY;s+100>r&&(s=r-100-10),a+100>o&&(a=o-100-10)}function Mi(t){if(Rn("#treeContainer").html(""),!gi&&di)return;di=t;const e=Rn("#treeContainer"),n=e.node().clientWidth-e.node().clientWidth/4,i=e.node().clientHeight,r=Rn("#treeContainer").append("svg").attr("width",n).attr("height",i).call(function(){var t,e,n,i=si,r=ai,o=hi,s=ci,a=ui,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Qn,d=bt("start","zoom","end"),f=500,p=150,m=0,g=10;function v(t){t.property("__zoom",li).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",S).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new ni(e,t.x,t.y)}function _(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new ni(t.k,i,r)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n,i){t.on("start.zoom",(function(){x(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,o=arguments,s=x(t,o).event(i),a=r.apply(t,o),l=null==n?b(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,o):e,f=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new ni(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function C(t,...e){if(i.apply(this,arguments)){var n=x(this,e).event(t),r=this.__zoom,a=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),u=Zn(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=r.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[u,r.invert(u)],Kt(this),n.start()}oi(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",o(_(y(r,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function T(t,...e){if(!n&&i.apply(this,arguments)){var r=t.currentTarget,s=x(this,e,!0).event(t),a=Rn(t.view).on("mousemove.zoom",(function(t){if(oi(t),!s.moved){var e=t.clientX-u,n=t.clientY-h;s.moved=e*e+n*n>m}s.event(t).zoom("mouse",o(_(s.that.__zoom,s.mouse[0]=Zn(t,r),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,i=Rn(t).on("dragstart.drag",null);e&&(i.on("click.drag",Jn,Yn),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,s.moved),oi(t),s.event(t).end()}),!0),l=Zn(t,r),u=t.clientX,h=t.clientY;!function(t){var e=t.document.documentElement,n=Rn(t).on("dragstart.drag",Jn,Yn);"onselectstart"in e?n.on("selectstart.drag",Jn,Yn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(t.view),ri(t),s.mouse=[l,this.__zoom.invert(l)],Kt(this),s.start()}}function M(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,s=Zn(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(_(y(n,l),s,a),r.apply(this,e),c);oi(t),u>0?Rn(this).transition().duration(u).call(w,h,s,t):Rn(this).call(v.transform,h,s,t)}}function E(n,...r){if(i.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=x(this,r,n.changedTouches.length===u).event(n);for(ri(n),s=0;s<u;++s)l=[l=Zn(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),f)),Kt(this),h.start())}}function A(t,...e){if(this.__zooming){var n,i,r,s,a=x(this,e).event(t),l=t.changedTouches,u=l.length;for(oi(t),n=0;n<u;++n)r=Zn(i=l[n],this),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var h=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m,g=(g=p[0]-d[0])*g+(g=p[1]-d[1])*g;i=y(i,Math.sqrt(m/g)),r=[(h[0]+f[0])/2,(h[1]+f[1])/2],s=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(_(i,r,s),a.extent,c))}}function S(t,...i){if(this.__zooming){var r,o,s=x(this,i).event(t),a=t.changedTouches,l=a.length;for(ri(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),r=0;r<l;++r)o=a[r],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Zn(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var c=Rn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",li),t!==r?w(t,e,n,i):r.interrupt().each((function(){x(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,i){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,i)},v.scaleTo=function(t,e,n,i){v.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,s=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(_(y(i,l),s,a),t,c)}),n,i)},v.translateBy=function(t,e,n,i){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,i)},v.translateTo=function(t,e,n,i,s){v.transform(t,(function(){var t=r.apply(this,arguments),s=this.__zoom,a=null==i?b(t):"function"==typeof i?i.apply(this,arguments):i;return o(ii.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),i,s)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Rn(this.that).datum();d.call(t,this.that,new ei(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:d}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:ti(+t),v):s},v.filter=function(t){return arguments.length?(i="function"==typeof t?t:ti(!!t),v):i},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ti(!!t),v):a},v.extent=function(t){return arguments.length?(r="function"==typeof t?t:ti([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(u=+t,v):u},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=d.on.apply(d,arguments);return t===d?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}().on("zoom",(t=>{r.attr("transform",t.transform),r.selectAll("text").attr("font-size",12/t.transform.k+"px"),r.selectAll("circle").attr("r",10/t.transform.k+"px")}))).append("g").attr("width",n).attr("height",i).append("g").attr("transform",`translate(${n/2},${i/2})`),o=ki(di);o||(console.log("hmm"),console.log(di));const s=En(o),a=function(){var t=kn,e=1,n=1,i=!1;function r(r){var o,s=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Cn,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Tn,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=a.x-t(a,l)/2,u=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r}().size([2*Math.PI,Math.min(n,i)/2-100]);a(s);const l=function(){const t=function(t){let e=Vn,n=Gn,i=Xn,r=Un,o=null,s=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Wn(e)}(l);function l(){let l;const c=On.call(arguments),u=e.apply(this,c),h=n.apply(this,c);if(null==o&&(s=t(l=a())),s.lineStart(),c[0]=u,s.point(+i.apply(this,c),+r.apply(this,c)),c[0]=h,s.point(+i.apply(this,c),+r.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(i="function"==typeof t?t:jn(+t),l):i},l.y=function(t){return arguments.length?(r="function"==typeof t?t:jn(+t),l):r},l.context=function(e){return arguments.length?(null==e?o=s=null:s=t(o=e),l):o},l}($n);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}().angle((t=>t.x)).radius((t=>t.y));s.descendants().forEach((t=>{t.depth>1&&wi(t.data)<mi?(t.data.originalChildren=t.children,t._children=t.children,t.children=null):t._children=null})),function t(e){if(!gi)return;a(s);const n=s.descendants(),i=s.links(),o=r.selectAll(".link").data(i,(t=>`${t.source.data.name}-${t.target.data.name}`));o.enter().append("path").attr("class","link").merge(o).attr("d",l).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",1.5),o.exit().remove();const c=r.selectAll(".node").data(n,(t=>t.data.name)),u=c.enter().append("g").attr("class","node").attr("transform",(t=>`\n                rotate(${180*t.x/Math.PI-90})\n                translate(${t.y})\n            `)).on("click",(function(e,n){n.children?(n._children=n.children,n.children=null):(n.children=n._children||n.data.originalChildren,n._children=null),t()})).on("mouseover",(function(t,e){const n=Ci(e.data.name);n&&Ti(t,n)})).on("mouseout",(function(){Rn("#anatomy-tooltip").style("display","none")}));u.append("circle").attr("r",10).attr("fill",(t=>t.children||t._children?"#555":"#999")),u.append("text").attr("dy","0.31em").attr("x",(t=>t.x<Math.PI?6:-6)).attr("text-anchor",(t=>t.x<Math.PI?"start":"end")).attr("transform",(t=>t.x<Math.PI?null:"rotate(180)")).style("fill",(t=>pi.has(t.data.name)?"red":"black")).text((t=>{const e=fi.get(t.data.name)||0;return`${t.data.name} (${e})`})),c.exit().remove()}()}function Ei(t){const e=function t(e,n){if(e.name===n)return e;for(const i of e.children||[]){const e=t(i,n);if(e)return e}return null}(di,t.parent);e&&(e.children||(e.children=[]),e.children.push(t),fi.set(t.name,1)),Mi(di)}function Ai(t){const e=fi.get(t)||0;fi.set(t,e+1)}function Si(t){pi.add(t),Mi(di)}function Di(){gi=!1}function Pi(){di=void 0,fi.clear(),pi.clear(),Rn("#treeContainer").html("")}function Ni(t){mi=t;const e=document.getElementById("slider-value"),n=document.getElementById("population-threshold-slider");t>n.max&&(n.max=t),n.value=t,e.textContent=t,Mi(di)}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("population-threshold-slider"),e=document.getElementById("slider-value");t.value=mi,e.textContent=mi,t.addEventListener("input",(()=>{Ni(parseInt(t.value,10))}));const n=document.getElementById("toggle-extinct-leaves");n?n.addEventListener("change",(t=>{xi(t.target.checked)})):console.error("Toggle element not found."),document.getElementById("population-threshold-ten").addEventListener("click",(t=>{Ni(10*mi)})),document.getElementById("population-threshold-half").addEventListener("click",(t=>{Ni(Math.ceil(mi/2))})),document.getElementById("population-threshold-two").addEventListener("click",(t=>{Ni(2*mi)})),document.getElementById("population-threshold-tenth").addEventListener("click",(t=>{Ni(Math.ceil(mi/10))}))}))},744:t=>{let e={rand_vect:function(){let t=2*Math.random()*Math.PI;return{x:Math.cos(t),y:Math.sin(t)}},dot_prod_grid:function(t,e,n,i){let r,o=t-n,s=e-i;return this.gradients[[n,i]]?r=this.gradients[[n,i]]:(r=this.rand_vect(),this.gradients[[n,i]]=r),o*r.x+s*r.y},smootherstep:function(t){return 6*t**5-15*t**4+10*t**3},interp:function(t,e,n){return e+this.smootherstep(t)*(n-e)},seed:function(){this.gradients={},this.memory={}},get:function(t,e){if(this.memory.hasOwnProperty([t,e]))return this.memory[[t,e]];let n=Math.floor(t),i=Math.floor(e),r=this.dot_prod_grid(t,e,n,i),o=this.dot_prod_grid(t,e,n+1,i),s=this.dot_prod_grid(t,e,n,i+1),a=this.dot_prod_grid(t,e,n+1,i+1),l=this.interp(t-n,r,o),c=this.interp(t-n,s,a),u=this.interp(e-i,l,c);return this.memory[[t,e]]=u,u}};e.seed(),t.exports=e},862:t=>{const e={copyNonObjects(t){let e={};for(let n in t)"object"!=typeof t[n]&&(e[n]=t[n]);return e},overwriteNonObjects(t,e){for(let n in t)"object"!=typeof t[n]&&"object"!=typeof e[n]&&(e[n]=t[n])}};t.exports=e},139:t=>{t.exports={headless:!1,tree_of_life:!0,clear_walls_on_reset:!1,auto_reset:!1,auto_pause:!0,brush_size:2}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(121),e=n.n(t);n(652),n(755)("document").ready((function(){(function(){let t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t;var e})()&&alert("Welcome to the Life Engine! Be aware the website is not built for mobile, so try on desktop for the best experience!"),(new(e())).start(160)}))})()})();